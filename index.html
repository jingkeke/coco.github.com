<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.jingzhengyi.top","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
<meta property="og:url" content="https://blog.jingzhengyi.top/index.html">
<meta property="og:site_name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.jingzhengyi.top/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>ä¸ªäººä»£ç çŸ¥è¯†è®°å½•</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88049197-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-88049197-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä¸ªäººä»£ç çŸ¥è¯†è®°å½•</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/06/13/postcss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/13/postcss/" class="post-title-link" itemprop="url">postcss</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-06-13 18:21:00" itemprop="dateCreated datePublished" datetime="2021-06-13T18:21:00+08:00">2021-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-06-14 07:43:01" itemprop="dateModified" datetime="2021-06-14T07:43:01+08:00">2021-06-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ç»ƒä¹ å¯ä»¥ç”¨ <a href="http://plnkr.co/" target="_blank" rel="noopener">http://plnkr.co/</a> æ„Ÿè§‰è¿˜æŒºå¥½<br>åŸæ–‡ :<a href="https://github.com/postcss/postcss/blob/main/docs/README-cn.md" target="_blank" rel="noopener">https://github.com/postcss/postcss/blob/main/docs/README-cn.md</a></p>
</blockquote>
<h1 id="PostCSS"><a href="#PostCSS" class="headerlink" title="PostCSS "></a>PostCSS <a href="https://gitter.im/postcss/postcss" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Gitter-Join_the_PostCSS_chat-brightgreen.svg" alt="Gitter"></a></h1><p><img align="right" width="95" height="95"
     alt="å“²å­¦å®¶çš„çŸ³å¤´ - PostCSS çš„ logo"
     src="https://postcss.org/logo.svg"></p>
<p>PostCSS æ˜¯ä¸€ä¸ªå…è®¸ä½¿ç”¨ JS æ’ä»¶è½¬æ¢æ ·å¼çš„å·¥å…·ã€‚<br>è¿™äº›æ’ä»¶å¯ä»¥æ£€æŸ¥ï¼ˆlintï¼‰ä½ çš„ CSSï¼Œæ”¯æŒ CSS Variables å’Œ Mixinsï¼Œ<br>ç¼–è¯‘å°šæœªè¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒçš„å…ˆè¿›çš„ CSS è¯­æ³•ï¼Œå†…è”å›¾ç‰‡ï¼Œä»¥åŠå…¶å®ƒå¾ˆå¤šä¼˜ç§€çš„åŠŸèƒ½ã€‚</p>
<p>PostCSS åœ¨å·¥ä¸šç•Œè¢«å¹¿æ³›åœ°åº”ç”¨ï¼Œå…¶ä¸­ä¸ä¹å¾ˆå¤šæœ‰åçš„è¡Œä¸šé¢†å¯¼è€…ï¼Œå¦‚ï¼šç»´åŸºç™¾ç§‘ï¼ŒTwitterï¼Œé˜¿é‡Œå·´å·´ï¼Œ<br>JetBrainsã€‚PostCSS çš„ <a href="https://github.com/postcss/autoprefixer" target="_blank" rel="noopener">Autoprefixer</a> æ’ä»¶æ˜¯æœ€æµè¡Œçš„ CSS å¤„ç†å·¥å…·ä¹‹ä¸€ã€‚</p>
<p>PostCSS æ¥æ”¶ä¸€ä¸ª CSS æ–‡ä»¶å¹¶æä¾›äº†ä¸€ä¸ª API æ¥åˆ†æã€ä¿®æ”¹å®ƒçš„è§„åˆ™ï¼ˆé€šè¿‡æŠŠ CSS è§„åˆ™è½¬æ¢æˆä¸€ä¸ª<a href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E8%AA%9E%E6%B3%95%E6%A8%B9" target="_blank" rel="noopener">æŠ½è±¡è¯­æ³•æ ‘</a>çš„æ–¹å¼ï¼‰ã€‚åœ¨è¿™ä¹‹åï¼Œè¿™ä¸ª API ä¾¿å¯è¢«è®¸å¤š<a href="https://github.com/postcss/postcss/blob/main/README-cn.md#%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener">æ’ä»¶</a>åˆ©ç”¨æ¥åšæœ‰ç”¨çš„äº‹æƒ…ï¼Œæ¯”å¦‚å¯»é”™æˆ–è‡ªåŠ¨æ·»åŠ  CSS vendor å‰ç¼€ã€‚</p>
<p><strong>Twitter è´¦å·:</strong> <a href="https://twitter.com/postcss" target="_blank" rel="noopener">@postcss</a><br><br><strong>æ”¯æŒ / è®¨è®º:</strong> <a href="https://gitter.im/postcss/postcss" target="_blank" rel="noopener">Gitter</a><br></p>
<p>å¦‚æœéœ€è¦ PostCSS å•†ä¸šæ”¯æŒï¼ˆå¦‚å’¨è¯¢ï¼Œæå‡å…¬å¸çš„å‰ç«¯æ–‡åŒ–ï¼Œ<br>PostCSS æ’ä»¶ï¼‰ï¼Œè¯·è”ç³» <a href="https://evilmartians.com/?utm_source=postcss" target="_blank" rel="noopener">Evil Martians</a><br>é‚®ç®± <a href="mailto:&#x73;&#117;&#x72;&#x72;&#x65;&#110;&#x64;&#101;&#114;&#x40;&#x65;&#x76;&#105;&#108;&#x6d;&#97;&#x72;&#116;&#105;&#x61;&#110;&#115;&#x2e;&#x63;&#x6f;&#x6d;" target="_blank" rel="noopener">&#x73;&#117;&#x72;&#x72;&#x65;&#110;&#x64;&#101;&#114;&#x40;&#x65;&#x76;&#105;&#108;&#x6d;&#97;&#x72;&#116;&#105;&#x61;&#110;&#115;&#x2e;&#x63;&#x6f;&#x6d;</a>ã€‚</p>
<a href="https://evilmartians.com/?utm_source=postcss" target="_blank" rel="noopener">
  <img src="https://evilmartians.com/badges/sponsored-by-evil-martians.svg"
       alt="ç”± Evil Martians èµåŠ©" width="236" height="54">
</a>

<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p>æˆªæ­¢åˆ°ç›®å‰ï¼ŒPostCSS æœ‰ 200 å¤šä¸ªæ’ä»¶ã€‚ä½ å¯ä»¥åœ¨ <a href="https://github.com/postcss/postcss/blob/main/docs/plugins.md" target="_blank" rel="noopener">æ’ä»¶åˆ—è¡¨</a> æˆ– <a href="http://postcss.parts" target="_blank" rel="noopener">æœç´¢ç›®å½•</a> æ‰¾åˆ°å®ƒä»¬ã€‚<br>ä¸‹æ–¹çš„åˆ—è¡¨æ˜¯æˆ‘ä»¬æœ€å–œæ¬¢çš„æ’ä»¶ - å®ƒä»¬å¾ˆå¥½åœ°æ¼”ç¤ºäº†æˆ‘ä»¬å¯ä»¥ç”¨ PostCSS åšäº›ä»€ä¹ˆã€‚</p>
<p>å¦‚æœä½ æœ‰ä»»ä½•æ–°çš„æƒ³æ³•ï¼Œ<a href="https://github.com/postcss/postcss/blob/main/docs/writing-a-plugin.md" target="_blank" rel="noopener">å¼€å‘ PostCSS æ’ä»¶</a> éå¸¸ç®€å•æ˜“ä¸Šæ‰‹ã€‚</p>
<h3 id="è§£å†³å…¨å±€-CSS-çš„é—®é¢˜"><a href="#è§£å†³å…¨å±€-CSS-çš„é—®é¢˜" class="headerlink" title="è§£å†³å…¨å±€ CSS çš„é—®é¢˜"></a>è§£å†³å…¨å±€ CSS çš„é—®é¢˜</h3><ul>
<li><a href="https://github.com/postcss/postcss-use" target="_blank" rel="noopener"><code>postcss-use</code></a> å…è®¸ä½ åœ¨ CSS é‡Œæ˜ç¡®åœ°è®¾ç½® PostCSS æ’ä»¶ï¼Œå¹¶ä¸”åªåœ¨å½“å‰æ–‡ä»¶æ‰§è¡Œå®ƒä»¬ã€‚</li>
<li><a href="https://github.com/outpunk/postcss-modules" target="_blank" rel="noopener"><code>postcss-modules</code></a> å’Œ <a href="https://github.com/gajus/react-css-modules" target="_blank" rel="noopener"><code>react-css-modules</code></a> å¯ä»¥è‡ªåŠ¨ä»¥ç»„ä»¶ä¸ºå•ä½éš”ç» CSS é€‰æ‹©å™¨ã€‚</li>
<li><a href="https://github.com/maximkoretskiy/postcss-autoreset" target="_blank" rel="noopener"><code>postcss-autoreset</code></a> æ˜¯å…¨å±€æ ·å¼é‡ç½®çš„åˆä¸€ä¸ªé€‰æ‹©ï¼Œå®ƒæ›´é€‚ç”¨äºåˆ†ç¦»çš„ç»„ä»¶ã€‚</li>
<li><a href="https://github.com/maximkoretskiy/postcss-initial" target="_blank" rel="noopener"><code>postcss-initial</code></a> æ·»åŠ äº† <code>all: initial</code> çš„æ”¯æŒï¼Œé‡ç½®äº†æ‰€æœ‰ç»§æ‰¿çš„æ ·å¼ã€‚</li>
<li><a href="https://github.com/ausi/cq-prolyfill" target="_blank" rel="noopener"><code>cq-prolyfill</code></a> æ·»åŠ äº†å®¹å™¨æŸ¥è¯¢çš„æ”¯æŒï¼Œå…è®¸æ·»åŠ å“åº”äºçˆ¶å…ƒç´ å®½åº¦çš„æ ·å¼.</li>
</ul>
<h3 id="æå‰ä½¿ç”¨å…ˆè¿›çš„-CSS-ç‰¹æ€§"><a href="#æå‰ä½¿ç”¨å…ˆè¿›çš„-CSS-ç‰¹æ€§" class="headerlink" title="æå‰ä½¿ç”¨å…ˆè¿›çš„ CSS ç‰¹æ€§"></a>æå‰ä½¿ç”¨å…ˆè¿›çš„ CSS ç‰¹æ€§</h3><ul>
<li><a href="https://github.com/postcss/autoprefixer" target="_blank" rel="noopener"><code>autoprefixer</code></a> æ·»åŠ äº† vendor æµè§ˆå™¨å‰ç¼€ï¼Œå®ƒä½¿ç”¨ Can I Use ä¸Šé¢çš„æ•°æ®ã€‚</li>
<li><a href="https://github.com/jonathantneal/postcss-preset-env" target="_blank" rel="noopener"><code>postcss-preset-env</code></a> å…è®¸ä½ ä½¿ç”¨æœªæ¥çš„ CSS ç‰¹æ€§ã€‚</li>
</ul>
<h3 id="æ›´ä½³çš„-CSS-å¯è¯»æ€§"><a href="#æ›´ä½³çš„-CSS-å¯è¯»æ€§" class="headerlink" title="æ›´ä½³çš„ CSS å¯è¯»æ€§"></a>æ›´ä½³çš„ CSS å¯è¯»æ€§</h3><ul>
<li><a href="https://github.com/jonathantneal/precss" target="_blank" rel="noopener"><code>precss</code></a> å›Šæ‹¬äº†è®¸å¤šæ’ä»¶æ¥æ”¯æŒç±»ä¼¼ Sass çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ CSS å˜é‡ï¼Œå¥—åµŒï¼Œmixins ç­‰ã€‚</li>
<li><a href="https://github.com/hudochenkov/postcss-sorting" target="_blank" rel="noopener"><code>postcss-sorting</code></a> ç»™è§„åˆ™çš„å†…å®¹ä»¥åŠ@è§„åˆ™æ’åºã€‚</li>
<li><a href="https://github.com/ismamz/postcss-utilities" target="_blank" rel="noopener"><code>postcss-utilities</code></a> å›Šæ‹¬äº†æœ€å¸¸ç”¨çš„ç®€å†™æ–¹å¼å’Œä¹¦å†™å¸®åŠ©ã€‚</li>
<li><a href="https://github.com/jonathantneal/postcss-short" target="_blank" rel="noopener"><code>short</code></a> æ·»åŠ å¹¶æ‹“å±•äº†å¤§é‡çš„ç¼©å†™å±æ€§ã€‚</li>
</ul>
<h3 id="å›¾ç‰‡å’Œå­—ä½“"><a href="#å›¾ç‰‡å’Œå­—ä½“" class="headerlink" title="å›¾ç‰‡å’Œå­—ä½“"></a>å›¾ç‰‡å’Œå­—ä½“</h3><ul>
<li><a href="https://github.com/assetsjs/postcss-assets" target="_blank" rel="noopener"><code>postcss-assets</code></a> å¯ä»¥æ’å…¥å›¾ç‰‡å°ºå¯¸å’Œå†…è”æ–‡ä»¶ã€‚</li>
<li><a href="https://github.com/2createStudio/postcss-sprites" target="_blank" rel="noopener"><code>postcss-sprites</code></a> èƒ½ç”Ÿæˆé›ªç¢§å›¾ã€‚</li>
<li><a href="https://github.com/jonathantneal/postcss-font-magician" target="_blank" rel="noopener"><code>font-magician</code></a> ç”Ÿæˆæ‰€æœ‰åœ¨ CSS é‡Œéœ€è¦çš„ <code>@font-face</code> è§„åˆ™ã€‚</li>
<li><a href="https://github.com/TrySound/postcss-inline-svg" target="_blank" rel="noopener"><code>postcss-inline-svg</code></a> å…è®¸ä½ å†…è” SVG å¹¶å®šåˆ¶å®ƒçš„æ ·å¼ã€‚</li>
<li><a href="https://github.com/jonathantneal/postcss-write-svg" target="_blank" rel="noopener"><code>postcss-write-svg</code></a> å…è®¸ä½ åœ¨ CSS é‡Œå†™ç®€å•çš„ SVGã€‚</li>
</ul>
<h3 id="æç¤ºå™¨ï¼ˆLintersï¼‰"><a href="#æç¤ºå™¨ï¼ˆLintersï¼‰" class="headerlink" title="æç¤ºå™¨ï¼ˆLintersï¼‰"></a>æç¤ºå™¨ï¼ˆLintersï¼‰</h3><ul>
<li><a href="https://github.com/stylelint/stylelint" target="_blank" rel="noopener"><code>stylelint</code></a> æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„æ ·å¼æç¤ºå™¨ã€‚</li>
<li><a href="https://github.com/morishitter/stylefmt" target="_blank" rel="noopener"><code>stylefmt</code></a> æ˜¯ä¸€ä¸ªèƒ½æ ¹æ® <code>stylelint</code> è§„åˆ™è‡ªåŠ¨ä¼˜åŒ– CSS æ ¼å¼çš„å·¥å…·ã€‚</li>
<li><a href="https://github.com/anandthakker/doiuse" target="_blank" rel="noopener"><code>doiuse</code></a> æç¤º CSS çš„æµè§ˆå™¨æ”¯æŒæ€§ï¼Œä½¿ç”¨çš„æ•°æ®æ¥è‡ªäº Can I Useã€‚</li>
<li><a href="https://github.com/SlexAxton/css-colorguard" target="_blank" rel="noopener"><code>colorguard</code></a> å¸®åŠ©ä½ ä¿æŒä¸€ä¸ªå§‹ç»ˆå¦‚ä¸€çš„è°ƒè‰²æ¿ã€‚</li>
</ul>
<h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><ul>
<li><a href="https://github.com/vkalinichev/postcss-rtl" target="_blank" rel="noopener"><code>postcss-rtl</code></a> åœ¨å•ä¸ª CSS æ–‡ä»¶é‡Œç»„åˆäº†ä¸¤ä¸ªæ–¹å‘ï¼ˆå·¦åˆ°å³ï¼Œå³åˆ°å·¦ï¼‰çš„æ ·å¼ã€‚</li>
<li><a href="http://cssnano.co" target="_blank" rel="noopener"><code>cssnano</code></a> æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„ CSS å‹ç¼©å™¨ã€‚</li>
<li><a href="https://github.com/peterramsing/lost" target="_blank" rel="noopener"><code>lost</code></a> æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ <code>calc()</code> æ …æ ¼ç³»ç»Ÿã€‚</li>
<li><a href="https://github.com/MohammadYounes/rtlcss" target="_blank" rel="noopener"><code>rtlcss</code></a> é•œåƒç¿»è½¬ CSS æ ·å¼ï¼Œé€‚ç”¨äº right-to-left çš„åº”ç”¨åœºæ™¯ã€‚</li>
</ul>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>PostCSS å¯ä»¥è½¬åŒ–æ ·å¼åˆ°ä»»æ„è¯­æ³•ï¼Œä¸ä»…ä»…æ˜¯ CSSã€‚<br>å¦‚æœè¿˜æ²¡æœ‰æ”¯æŒä½ æœ€å–œæ¬¢çš„è¯­æ³•ï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªè§£é‡Šå™¨ä»¥åŠï¼ˆæˆ–è€…ï¼‰ä¸€ä¸ª stringifier æ¥æ‹“å±• PostCSSã€‚</p>
<ul>
<li><a href="https://github.com/postcss/sugarss" target="_blank" rel="noopener"><code>sugarss</code></a> æ˜¯ä¸€ä¸ªä»¥ç¼©è¿›ä¸ºåŸºç¡€çš„è¯­æ³•ï¼Œç±»ä¼¼äº Sass å’Œ Stylusã€‚</li>
<li><a href="https://github.com/gucong3000/postcss-syntax" target="_blank" rel="noopener"><code>postcss-syntax</code></a> é€šè¿‡æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨åˆ‡æ¢è¯­æ³•ã€‚</li>
<li><a href="https://github.com/gucong3000/postcss-html" target="_blank" rel="noopener"><code>postcss-html</code></a> è§£æç±» HTML æ–‡ä»¶é‡Œ<code>&lt;style&gt;</code>æ ‡ç­¾ä¸­çš„æ ·å¼ã€‚</li>
<li><a href="https://github.com/gucong3000/postcss-markdown" target="_blank" rel="noopener"><code>postcss-markdown</code></a> è§£æ Markdown æ–‡ä»¶é‡Œä»£ç å—ä¸­çš„æ ·å¼ã€‚</li>
<li><a href="https://github.com/gucong3000/postcss-jsx" target="_blank" rel="noopener"><code>postcss-jsx</code></a> è§£ææºæ–‡ä»¶é‡Œæ¨¡æ¿æˆ–å¯¹è±¡å­—é¢é‡ä¸­çš„ CSSã€‚</li>
<li><a href="https://github.com/gucong3000/postcss-styled" target="_blank" rel="noopener"><code>postcss-styled</code></a> è§£ææºæ–‡ä»¶é‡Œæ¨¡æ¿å­—é¢é‡ä¸­çš„ CSSã€‚</li>
<li><a href="https://github.com/postcss/postcss-scss" target="_blank" rel="noopener"><code>postcss-scss</code></a> å…è®¸ä½ ä½¿ç”¨ SCSS _(ä½†å¹¶æ²¡æœ‰å°† SCSS ç¼–è¯‘åˆ° CSS)_ã€‚</li>
<li><a href="https://github.com/AleshaOleg/postcss-sass" target="_blank" rel="noopener"><code>postcss-sass</code></a> å…è®¸ä½ ä½¿ç”¨ Sass _(ä½†å¹¶æ²¡æœ‰å°† Sass ç¼–è¯‘åˆ° CSS)_ã€‚</li>
<li><a href="https://github.com/webschik/postcss-less" target="_blank" rel="noopener"><code>postcss-less</code></a> å…è®¸ä½ ä½¿ç”¨ Less _(ä½†å¹¶æ²¡æœ‰å°† LESS ç¼–è¯‘åˆ° CSS)_ã€‚</li>
<li><a href="https://github.com/Crunch/postcss-less" target="_blank" rel="noopener"><code>postcss-less-engine</code></a> å…è®¸ä½ ä½¿ç”¨ Less _(å¹¶ä¸”ä½¿ç”¨çœŸæ­£çš„ Less.js æŠŠ LESS ç¼–è¯‘åˆ° CSS)_ã€‚</li>
<li><a href="https://github.com/postcss/postcss-js" target="_blank" rel="noopener"><code>postcss-js</code></a> å…è®¸ä½ åœ¨ JS é‡Œç¼–å†™æ ·å¼ï¼Œæˆ–è€…è½¬æ¢æˆ React çš„å†…è”æ ·å¼ï¼Radiumï¼JSSã€‚</li>
<li><a href="https://github.com/postcss/postcss-safe-parser" target="_blank" rel="noopener"><code>postcss-safe-parser</code></a> æŸ¥æ‰¾å¹¶ä¿®å¤ CSS è¯­æ³•é”™è¯¯ã€‚</li>
<li><a href="https://github.com/ben-eb/midas" target="_blank" rel="noopener"><code>midas</code></a> å°† CSS å­—ç¬¦ä¸²è½¬åŒ–æˆé«˜äº®çš„ HTMLã€‚</li>
</ul>
<h2 id="æ–‡ç« "><a href="#æ–‡ç« " class="headerlink" title="æ–‡ç« "></a>æ–‡ç« </h2><ul>
<li><a href="http://julian.io/some-things-you-may-think-about-postcss-and-you-might-be-wrong" target="_blank" rel="noopener">ä¸€äº›ä½ å¯¹ PostCSS å¯èƒ½äº§ç”Ÿçš„è¯¯è§£</a></li>
<li><a href="http://davidtheclark.com/its-time-for-everyone-to-learn-about-postcss" target="_blank" rel="noopener">PostCSS ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œæ˜¯åšä»€ä¹ˆçš„</a></li>
<li><a href="http://webdesign.tutsplus.com/series/postcss-deep-dive--cms-889" target="_blank" rel="noopener">PostCSS æŒ‡å—</a></li>
</ul>
<p>ä½ å¯ä»¥åœ¨ <a href="https://github.com/jjaderg/awesome-postcss" target="_blank" rel="noopener">awesome-postcss</a> åˆ—è¡¨é‡Œæ‰¾åˆ°æ›´å¤šä¼˜ç§€çš„æ–‡ç« å’Œè§†é¢‘ã€‚</p>
<h2 id="ä¹¦ç±"><a href="#ä¹¦ç±" class="headerlink" title="ä¹¦ç±"></a>ä¹¦ç±</h2><ul>
<li>Alex Libby, Packt çš„ <a href="https://www.packtpub.com/web-development/mastering-postcss-web-design" target="_blank" rel="noopener">ç½‘é¡µè®¾è®¡ä¹‹ç²¾é€š PostCSS</a> (2016 å¹´ 6 æœˆ)</li>
</ul>
<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>ä½ å¯ä»¥é€šè¿‡ç®€å•çš„ä¸¤æ­¥ä¾¿å¼€å§‹ä½¿ç”¨ PostCSSï¼š</p>
<ol>
<li>åœ¨ä½ çš„æ„å»ºå·¥å…·ä¸­æŸ¥æ‰¾å¹¶æ·»åŠ  PostCSS æ‹“å±•ã€‚</li>
<li><a href="http://postcss.parts" target="_blank" rel="noopener">é€‰æ‹©æ’ä»¶</a>å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ä½ çš„ PostCSS å¤„ç†é˜Ÿåˆ—ä¸­ã€‚</li>
</ol>
<h3 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h3><p>åœ¨ <code>webpack.config.js</code> é‡Œä½¿ç”¨ <a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener"><code>postcss-loader</code></a> :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">"style-loader"</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">"css-loader"</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              importLoaders: <span class="number">1</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">"postcss-loader"</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååˆ›å»º <code>postcss.config.js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [<span class="built_in">require</span>(<span class="string">"precss"</span>), <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Gulp"><a href="#Gulp" class="headerlink" title="Gulp"></a>Gulp</h3><p>ä½¿ç”¨ <a href="https://github.com/postcss/gulp-postcss" target="_blank" rel="noopener"><code>gulp-postcss</code></a> å’Œ <a href="https://github.com/floridoo/gulp-sourcemaps" target="_blank" rel="noopener"><code>gulp-sourcemaps</code></a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">"css"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> postcss = <span class="built_in">require</span>(<span class="string">"gulp-postcss"</span>);</span><br><span class="line">  <span class="keyword">const</span> sourcemaps = <span class="built_in">require</span>(<span class="string">"gulp-sourcemaps"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .src(<span class="string">"src/**/*.css"</span>)</span><br><span class="line">    .pipe(sourcemaps.init())</span><br><span class="line">    .pipe(postcss([<span class="built_in">require</span>(<span class="string">"precss"</span>), <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)]))</span><br><span class="line">    .pipe(sourcemaps.write(<span class="string">"."</span>))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">"build/"</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="npm-run-CLI"><a href="#npm-run-CLI" class="headerlink" title="npm run / CLI"></a>npm run / CLI</h3><p>å¦‚æœéœ€è¦åœ¨ä½ çš„å‘½ä»¤è¡Œç•Œé¢æˆ– npm è„šæœ¬é‡Œä½¿ç”¨ PostCSSï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://github.com/postcss/postcss-cli" target="_blank" rel="noopener"><code>postcss-cli</code></a>ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postcss --use autoprefixer -c options.json -o main.css css/*.css</span><br></pre></td></tr></table></figure>

<h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p>å¦‚æœä½ æƒ³ç¼–è¯‘æµè§ˆå™¨é‡Œçš„ CSS å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚åƒ CodePen ä¸€æ ·çš„åœ¨çº¿ç¼–è¾‘å™¨ï¼‰ï¼Œ<br>åªéœ€ä½¿ç”¨ <a href="http://browserify.org/" target="_blank" rel="noopener">Browserify</a> æˆ– <a href="https://webpack.github.io/" target="_blank" rel="noopener">webpack</a>ã€‚å®ƒä»¬ä¼šæŠŠ PostCSS å’Œæ’ä»¶æ–‡ä»¶æ‰“åŒ…è¿›ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ã€‚</p>
<p>å¦‚æœæƒ³è¦åœ¨ React å†…è”æ ·å¼ï¼JSSï¼Radiumï¼å…¶å®ƒ <a href="https://github.com/MicheleBertoli/css-in-js" target="_blank" rel="noopener">CSS-in-JS</a> é‡Œä½¿ç”¨ PostCSSï¼Œ<br>ä½ å¯ä»¥ç”¨ <a href="https://github.com/postcss/postcss-js" target="_blank" rel="noopener"><code>postcss-js</code></a> ç„¶åè½¬æ¢æ ·å¼å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> postcss = <span class="built_in">require</span>(<span class="string">"postcss-js"</span>);</span><br><span class="line"><span class="keyword">var</span> prefixer = postcss.sync([<span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)]);</span><br><span class="line"></span><br><span class="line">prefixer(&#123; <span class="attr">display</span>: <span class="string">"flex"</span> &#125;); <span class="comment">//=&gt; &#123; display: ['-webkit-box', '-webkit-flex', '-ms-flexbox', 'flex'] &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡Œå™¨"><a href="#è¿è¡Œå™¨" class="headerlink" title="è¿è¡Œå™¨"></a>è¿è¡Œå™¨</h3><ul>
<li><strong>Grunt</strong>: <a href="https://github.com/nDmitry/grunt-postcss" target="_blank" rel="noopener"><code>grunt-postcss</code></a></li>
<li><strong>HTML</strong>: <a href="https://github.com/posthtml/posthtml-postcss" target="_blank" rel="noopener"><code>posthtml-postcss</code></a></li>
<li><strong>Stylus</strong>: <a href="https://github.com/seaneking/poststylus" target="_blank" rel="noopener"><code>poststylus</code></a></li>
<li><strong>Rollup</strong>: <a href="https://github.com/egoist/rollup-plugin-postcss" target="_blank" rel="noopener"><code>rollup-plugin-postcss</code></a></li>
<li><strong>Brunch</strong>: <a href="https://github.com/brunch/postcss-brunch" target="_blank" rel="noopener"><code>postcss-brunch</code></a></li>
<li><strong>Broccoli</strong>: <a href="https://github.com/jeffjewiss/broccoli-postcss" target="_blank" rel="noopener"><code>broccoli-postcss</code></a></li>
<li><strong>Meteor</strong>: <a href="https://atmospherejs.com/juliancwirko/postcss" target="_blank" rel="noopener"><code>postcss</code></a></li>
<li><strong>ENB</strong>: <a href="https://github.com/awinogradov/enb-postcss" target="_blank" rel="noopener"><code>enb-postcss</code></a></li>
<li><strong>Taskr</strong>: <a href="https://github.com/lukeed/taskr/tree/master/packages/postcss" target="_blank" rel="noopener"><code>taskr-postcss</code></a></li>
<li><strong>Start</strong>: <a href="https://github.com/start-runner/postcss" target="_blank" rel="noopener"><code>start-postcss</code></a></li>
<li><strong>Connect/Express</strong>: <a href="https://github.com/jedmao/postcss-middleware" target="_blank" rel="noopener"><code>postcss-middleware</code></a></li>
</ul>
<h3 id="JS-API"><a href="#JS-API" class="headerlink" title="JS API"></a>JS API</h3><p>å¯¹äºå…¶å®ƒçš„åº”ç”¨ç¯å¢ƒï¼Œä½ å¯ä»¥ä½¿ç”¨ JS APIï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>);</span><br><span class="line"><span class="keyword">const</span> postcss = <span class="built_in">require</span>(<span class="string">"postcss"</span>);</span><br><span class="line"><span class="keyword">const</span> precss = <span class="built_in">require</span>(<span class="string">"precss"</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">"src/app.css"</span>, (err, css) =&gt; &#123;</span><br><span class="line">  postcss([precss, autoprefixer])</span><br><span class="line">    .process(css, &#123; <span class="attr">from</span>: <span class="string">"src/app.css"</span>, <span class="attr">to</span>: <span class="string">"dest/app.css"</span> &#125;)</span><br><span class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">      fs.writeFile(<span class="string">"dest/app.css"</span>, result.css);</span><br><span class="line">      <span class="keyword">if</span> (result.map) fs.writeFile(<span class="string">"dest/app.css.map"</span>, result.map);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é˜…è¯» <a href="https://postcss.org/api/" target="_blank" rel="noopener">PostCSS API æ–‡æ¡£</a> è·å–æ›´å¤šæœ‰å…³ JS API çš„ä¿¡æ¯.</p>
<p>æ‰€æœ‰çš„ PostCSS è¿è¡Œå™¨åº”å½“é€šè¿‡ <a href="https://github.com/postcss/postcss/blob/main/docs/guidelines/runner.md" target="_blank" rel="noopener">PostCSS è¿è¡Œå™¨æŒ‡å—</a>ã€‚</p>
<h3 id="é…ç½®é€‰é¡¹"><a href="#é…ç½®é€‰é¡¹" class="headerlink" title="é…ç½®é€‰é¡¹"></a>é…ç½®é€‰é¡¹</h3><p>ç»å¤§å¤šæ•° PostCSS è¿è¡Œå™¨æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ä¸€ä¸ªåŒ…å«æ‰€éœ€æ’ä»¶çš„æ•°ç»„</li>
<li>ä¸€ä¸ªé…ç½®é€‰é¡¹çš„å¯¹è±¡</li>
</ul>
<p>å¸¸è§çš„é€‰é¡¹ï¼š</p>
<ul>
<li><code>syntax</code>: ä¸€ä¸ªæä¾›äº†è¯­æ³•è§£é‡Šå™¨å’Œ stringifier çš„å¯¹è±¡ã€‚</li>
<li><code>parser</code>: ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•è§£é‡Šå™¨ï¼ˆä¾‹å¦‚ <a href="https://github.com/postcss/postcss-scss" target="_blank" rel="noopener">SCSS</a>ï¼‰ã€‚</li>
<li><code>stringifier</code>: ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³• output ç”Ÿæˆå™¨ï¼ˆä¾‹å¦‚ <a href="https://github.com/ben-eb/midas" target="_blank" rel="noopener">Midas</a>ï¼‰ã€‚</li>
<li><code>map</code>: <a href="https://postcss.org/api/#sourcemapoptions" target="_blank" rel="noopener">source map é€‰é¡¹</a>.</li>
<li><code>from</code>: input æ–‡ä»¶åç§°ï¼ˆå¤§å¤šæ•°è¿è¡Œå™¨è‡ªåŠ¨è®¾ç½®äº†è¿™ä¸ªï¼‰ã€‚</li>
<li><code>to</code>: output æ–‡ä»¶åç§°ï¼ˆå¤§å¤šæ•°è¿è¡Œå™¨è‡ªåŠ¨è®¾ç½®äº†è¿™ä¸ªï¼‰ã€‚</li>
</ul>
<h3 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h3><ul>
<li><a href="https://atom.io/packages/language-postcss" target="_blank" rel="noopener"><code>language-postcss</code></a> æ·»åŠ äº† PostCSS å’Œ <a href="https://github.com/postcss/sugarss" target="_blank" rel="noopener">SugarSS</a> ä»£ç é«˜äº®ã€‚</li>
<li><a href="https://atom.io/packages/source-preview-postcss" target="_blank" rel="noopener"><code>source-preview-postcss</code></a> åœ¨ä¸€ä¸ªç‹¬ç«‹çª—å£é‡Œå®æ—¶é¢„è§ˆç”Ÿæˆçš„ CSSã€‚</li>
</ul>
<h3 id="Sublime-Text"><a href="#Sublime-Text" class="headerlink" title="Sublime Text"></a>Sublime Text</h3><ul>
<li><a href="https://github.com/hudochenkov/Syntax-highlighting-for-PostCSS" target="_blank" rel="noopener"><code>Syntax-highlighting-for-PostCSS</code></a> æ·»åŠ äº† PostCSS ä»£ç é«˜äº®ã€‚</li>
</ul>
<h3 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h3><ul>
<li><a href="https://github.com/stephenway/postcss.vim" target="_blank" rel="noopener"><code>postcss.vim</code></a> æ·»åŠ äº† PostCSS ä»£ç é«˜äº®ã€‚</li>
</ul>
<h3 id="WebStorm"><a href="#WebStorm" class="headerlink" title="WebStorm"></a>WebStorm</h3><p>è‡ª WebStorm 2016.3 å¼€å§‹ï¼Œ<a href="https://blog.jetbrains.com/webstorm/2016/08/webstorm-2016-3-early-access-preview/" target="_blank" rel="noopener">æä¾›äº†</a> å†…å»ºçš„ PostCSS æ”¯æŒã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/06/07/qiankun/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/07/qiankun/" class="post-title-link" itemprop="url">å¾®å‰ç«¯</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-06-07 06:13:00 / ä¿®æ”¹æ—¶é—´ï¼š06:52:17" itemprop="dateCreated datePublished" datetime="2021-06-07T06:13:00+08:00">2021-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/frontend/" itemprop="url" rel="index"><span itemprop="name">frontend</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ä¹¾å¤ä¸€ä¸ªé¡¹ç›® node_modules åŒ…å°± 8 ä¸ª Gâ€¦â€¦è™½ç„¶çŸ¥é“æ˜¯å¥½å‡ ä¸ªå­é¡¹ç›®çš„äº‹â€¦..ä½†æ˜¯è¿˜æ˜¯æŒºä¸çˆ½çš„â€¦â€¦.</p>
</blockquote>
<h2 id="ä¸€äº›ç›¸å…³åè¯"><a href="#ä¸€äº›ç›¸å…³åè¯" class="headerlink" title="ä¸€äº›ç›¸å…³åè¯"></a>ä¸€äº›ç›¸å…³åè¯</h2><p>|â€“|â€“|<br>|SSI|server side includes|<br>|BFF|Backend For Frontend |</p>
<h2 id="ä¸€äº›çŸ¥è¯†ç‚¹"><a href="#ä¸€äº›çŸ¥è¯†ç‚¹" class="headerlink" title="ä¸€äº›çŸ¥è¯†ç‚¹"></a>ä¸€äº›çŸ¥è¯†ç‚¹</h2><ul>
<li>ReactDOM.unmountComponentAtNode(container) - <a href="https://zh-hans.reactjs.org/docs/react-dom.html#unmountcomponentatnode" target="_blank" rel="noopener">ref</a><br>ä» Dom ä¸­å¸è½½ç»„ä»¶,ä¼šå°†å…¶äº‹ä»¶å¤„ç†å™¨(event handlers) å’Œ state ä¸€å¹¶æ¸…æ¥š.å¦‚æœæŒ‡å®šå®¹å™¨ä¸Šæ²¡æœ‰å¯¹åº”å·²æŒ‚è½½çš„ç»„ä»¶,è¿™å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åš,å¦‚æœç»„ä»¶è¢«ç§»é™¤å°†ä¼šè¿”å› True</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">window.renderBrowser &#x3D;(containerId, history)&#x3D;&gt;&#123;</span><br><span class="line">    ReactDOM.render(&lt;App history&#x3D;&#123;history&#125; &#x2F;&gt;,</span><br><span class="line">    document.getElementById(containerId)) ;</span><br><span class="line"></span><br><span class="line">    registerServiceWorker();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">window.unmountBrowse&#x3D;containerId&#x3D;&gt;&#123;</span><br><span class="line">    ReactDOM.unmountComponentAtNode(document.getElementById(containerId ));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="qiankun-å·¥å…·"><a href="#qiankun-å·¥å…·" class="headerlink" title="qiankun-å·¥å…·"></a>qiankun-å·¥å…·</h2><ul>
<li>import-html-entry<br><a href="https://github.com/kuitos/import-html-entry" target="_blank" rel="noopener">https://github.com/kuitos/import-html-entry</a></li>
</ul>
<h2 id="qiankun-å®è·µ"><a href="#qiankun-å®è·µ" class="headerlink" title="qiankun-å®è·µ"></a>qiankun-å®è·µ</h2><p>åŸºäº qiankun çš„å¾®å‰ç«¯æœ€ä½³å®è·µ @nice<br>@by <a href="https://github.com/a1029563229/blogs" target="_blank" rel="noopener">https://github.com/a1029563229/blogs</a><br>@code <a href="https://github.com/a1029563229/micro-front-template" target="_blank" rel="noopener">https://github.com/a1029563229/micro-front-template</a></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://luo0412.gitee.io/plana/nav.4.ui-javascript/ch5-devops-scaffold/micro/case/02--fang-an--wei-qian-duan-react-qiankun.html" target="_blank" rel="noopener">æ–¹æ¡ˆå¾®å‰ç«¯(react+qiankun)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/05/30/hook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/30/hook/" class="post-title-link" itemprop="url">hook è§„åˆ™</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-30 22:56:00 / ä¿®æ”¹æ—¶é—´ï¼š23:00:57" itemprop="dateCreated datePublished" datetime="2021-05-30T22:56:00+08:00">2021-05-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/react/" itemprop="url" rel="index"><span itemprop="name">react</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>hook è§„åˆ™å®˜ç½‘çš„æ–‡æ¡£ ,ä»¥å‰æ²¡çœ‹,ä¸»è¦æ˜¯ç”¨ umi æ¯æ¬¡è¿è¡Œ eslint éƒ½ä¼šæ”¹ hooks çš„ä¾èµ–,åŸæ¥æ˜¯å®˜æ–¹çš„ eslint æ’ä»¶ eslint-plugin-react-hooks æçš„é¬¼â€¦<br>ç„¶åçœ‹äº†ä¸€ä¸‹å®˜ç½‘çš„æ–‡æ¡£ å­¦ä¹ äº†ä¸€ä¸‹,æ„Ÿè§‰æœ‰å¥½äº›çŸ¥è¯†ç‚¹<br><a href="https://zh-hans.reactjs.org/docs/hooks-rules.html" target="_blank" rel="noopener">https://zh-hans.reactjs.org/docs/hooks-rules.html</a></p>
</blockquote>
<p><em>Hook</em> æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p>
<p>Hook æœ¬è´¨å°±æ˜¯ JavaScript å‡½æ•°ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨å®ƒæ—¶éœ€è¦éµå¾ªä¸¤æ¡è§„åˆ™ã€‚æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks" target="_blank" rel="noopener">linter æ’ä»¶</a>æ¥å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ï¼š</p>
<h3 id="åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨-Hook"><a href="#åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨-Hook" class="headerlink" title="åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hook"></a><strong>åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hook</strong></h3><p><strong>ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookï¼Œ</strong> ç¡®ä¿æ€»æ˜¯åœ¨ä½ çš„ React å‡½æ•°çš„æœ€é¡¶å±‚ä»¥åŠä»»ä½• return ä¹‹å‰è°ƒç”¨ä»–ä»¬ã€‚éµå®ˆè¿™æ¡è§„åˆ™ï¼Œä½ å°±èƒ½ç¡®ä¿ Hook åœ¨æ¯ä¸€æ¬¡æ¸²æŸ“ä¸­éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºè¢«è°ƒç”¨ã€‚è¿™è®© React èƒ½å¤Ÿåœ¨å¤šæ¬¡çš„ <code>useState</code> å’Œ <code>useEffect</code> è°ƒç”¨ä¹‹é—´ä¿æŒ hook çŠ¶æ€çš„æ­£ç¡®ã€‚(å¦‚æœä½ å¯¹æ­¤æ„Ÿåˆ°å¥½å¥‡ï¼Œæˆ‘ä»¬åœ¨ä¼šæœ‰æ›´æ·±å…¥çš„è§£é‡Šã€‚)</p>
<h3 id="åªåœ¨-React-å‡½æ•°ä¸­è°ƒç”¨-Hook"><a href="#åªåœ¨-React-å‡½æ•°ä¸­è°ƒç”¨-Hook" class="headerlink" title="åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook"></a>åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook</h3><p><strong>ä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚</strong>ä½ å¯ä»¥ï¼š</p>
<ul>
<li>âœ… åœ¨ React çš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hook</li>
<li>âœ… åœ¨è‡ªå®šä¹‰ Hook ä¸­è°ƒç”¨å…¶ä»– Hook (æˆ‘ä»¬å°†ä¼šåœ¨, setName] = useState(â€˜Maryâ€™);</li>
</ul>
<p>// 2. Use an effect for persisting the form<br>useEffect(function persistForm() {<br>localStorage.setItem(â€˜formDataâ€™, name);<br>});</p>
<p>// 3. Use the surname state variable<br>const [surname, setSurname] = useState(â€˜Poppinsâ€™);</p>
<p>// 4. Use an effect for updating the title<br>useEffect(function updateTitle() {<br>document.title = name + â€˜ â€˜ + surname;<br>});</p>
<p>// â€¦<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">é‚£ä¹ˆ React æ€ä¹ˆçŸ¥é“å“ªä¸ª state å¯¹åº”å“ªä¸ª &#96;useState&#96;ï¼Ÿç­”æ¡ˆæ˜¯ React é çš„æ˜¯ Hook è°ƒç”¨çš„é¡ºåºã€‚å› ä¸ºæˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼ŒHook çš„è°ƒç”¨é¡ºåºåœ¨æ¯æ¬¡æ¸²æŸ“ä¸­éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼š</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;jsx</span><br><span class="line">&#x2F;&#x2F; ------------</span><br><span class="line">&#x2F;&#x2F; é¦–æ¬¡æ¸²æŸ“</span><br><span class="line">&#x2F;&#x2F; ------------</span><br><span class="line">useState(&#39;Mary&#39;)           &#x2F;&#x2F; 1. ä½¿ç”¨ &#39;Mary&#39; åˆå§‹åŒ–å˜é‡åä¸º name çš„ state</span><br><span class="line">useEffect(persistForm)     &#x2F;&#x2F; 2. æ·»åŠ  effect ä»¥ä¿å­˜ form æ“ä½œ</span><br><span class="line">useState(&#39;Poppins&#39;)        &#x2F;&#x2F; 3. ä½¿ç”¨ &#39;Poppins&#39; åˆå§‹åŒ–å˜é‡åä¸º surname çš„ state</span><br><span class="line">useEffect(updateTitle)     &#x2F;&#x2F; 4. æ·»åŠ  effect ä»¥æ›´æ–°æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------------</span><br><span class="line">&#x2F;&#x2F; äºŒæ¬¡æ¸²æŸ“</span><br><span class="line">&#x2F;&#x2F; -------------</span><br><span class="line">useState(&#39;Mary&#39;)           &#x2F;&#x2F; 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰</span><br><span class="line">useEffect(persistForm)     &#x2F;&#x2F; 2. æ›¿æ¢ä¿å­˜ form çš„ effect</span><br><span class="line">useState(&#39;Poppins&#39;)        &#x2F;&#x2F; 3. è¯»å–å˜é‡åä¸º surname çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰</span><br><span class="line">useEffect(updateTitle)     &#x2F;&#x2F; 4. æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ...</span><br></pre></td></tr></table></figure>

<p>åªè¦ Hook çš„è°ƒç”¨é¡ºåºåœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´ä¿æŒä¸€è‡´ï¼ŒReact å°±èƒ½æ­£ç¡®åœ°å°†å†…éƒ¨ state å’Œå¯¹åº”çš„ Hook è¿›è¡Œå…³è”ã€‚ä½†å¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ª Hook (ä¾‹å¦‚ <code>persistForm</code> effect) è°ƒç”¨æ”¾åˆ°ä¸€ä¸ªæ¡ä»¶è¯­å¥ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸ”´ åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook è¿åç¬¬ä¸€æ¡è§„åˆ™</span></span><br><span class="line"><span class="keyword">if</span> (name !== <span class="string">""</span>) &#123;</span><br><span class="line">  useEffect(<span class="function"><span class="keyword">function</span> <span class="title">persistForm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    localStorage.setItem(<span class="string">"formData"</span>, name);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¸­ <code>name !== &#39;&#39;</code> è¿™ä¸ªæ¡ä»¶å€¼ä¸º <code>true</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæ‰§è¡Œè¿™ä¸ª Hookã€‚ä½†æ˜¯ä¸‹ä¸€æ¬¡æ¸²æŸ“æ—¶æˆ‘ä»¬å¯èƒ½æ¸…ç©ºäº†è¡¨å•ï¼Œè¡¨è¾¾å¼å€¼å˜ä¸º <code>false</code>ã€‚æ­¤æ—¶çš„æ¸²æŸ“ä¼šè·³è¿‡è¯¥ Hookï¼ŒHook çš„è°ƒç”¨é¡ºåºå‘ç”Ÿäº†æ”¹å˜ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">useState(<span class="string">"Mary"</span>); <span class="comment">// 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"><span class="comment">// useEffect(persistForm)  // ğŸ”´ æ­¤ Hook è¢«å¿½ç•¥ï¼</span></span><br><span class="line">useState(<span class="string">"Poppins"</span>); <span class="comment">// ğŸ”´ 2 ï¼ˆä¹‹å‰ä¸º 3ï¼‰ã€‚è¯»å–å˜é‡åä¸º surname çš„ state å¤±è´¥</span></span><br><span class="line">useEffect(updateTitle); <span class="comment">// ğŸ”´ 3 ï¼ˆä¹‹å‰ä¸º 4ï¼‰ã€‚æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect å¤±è´¥</span></span><br></pre></td></tr></table></figure>

<p>React ä¸çŸ¥é“ç¬¬äºŒä¸ª <code>useState</code> çš„ Hook åº”è¯¥è¿”å›ä»€ä¹ˆã€‚React ä¼šä»¥ä¸ºåœ¨è¯¥ç»„ä»¶ä¸­ç¬¬äºŒä¸ª Hook çš„è°ƒç”¨åƒä¸Šæ¬¡çš„æ¸²æŸ“ä¸€æ ·ï¼Œå¯¹åº”çš„æ˜¯ <code>persistForm</code> çš„ effectï¼Œä½†å¹¶éå¦‚æ­¤ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œåé¢çš„ Hook è°ƒç”¨éƒ½è¢«æå‰æ‰§è¡Œï¼Œå¯¼è‡´ bug çš„äº§ç”Ÿã€‚</p>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Hook éœ€è¦åœ¨æˆ‘ä»¬ç»„ä»¶çš„æœ€é¡¶å±‚è°ƒç”¨ã€‚</strong>å¦‚æœæˆ‘ä»¬æƒ³è¦æœ‰æ¡ä»¶åœ°æ‰§è¡Œä¸€ä¸ª effectï¼Œå¯ä»¥å°†åˆ¤æ–­æ”¾åˆ° Hook çš„<em>å†…éƒ¨</em>ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="keyword">function</span> <span class="title">persistForm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ğŸ‘ å°†æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ effect ä¸­</span></span><br><span class="line">  <span class="keyword">if</span> (name !== <span class="string">""</span>) &#123;</span><br><span class="line">    localStorage.setItem(<span class="string">"formData"</span>, name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨äº†<a href="https://www.npmjs.com/package/eslint-plugin-react-hooks" target="_blank" rel="noopener">æä¾›çš„ lint æ’ä»¶</a>ï¼Œå°±æ— éœ€æ‹…å¿ƒæ­¤é—®é¢˜ã€‚</strong> ä¸è¿‡ä½ ç°åœ¨çŸ¥é“äº†ä¸ºä»€ä¹ˆ Hook ä¼šè¿™æ ·å·¥ä½œï¼Œä¹ŸçŸ¥é“äº†è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†é¿å…ä»€ä¹ˆé—®é¢˜ã€‚</p>
<h2 id="ä¸‹ä¸€æ­¥"><a href="#ä¸‹ä¸€æ­¥" class="headerlink" title="ä¸‹ä¸€æ­¥"></a>ä¸‹ä¸€æ­¥</h2><p>æœ€åï¼Œæ¥ä¸‹æ¥ä¼šå­¦ä¹ <a href="https://zh-hans.reactjs.org/docs/hooks-custom.html" target="_blank" rel="noopener">å¦‚ä½•ç¼–å†™è‡ªå®šä¹‰ Hook</a>ï¼è‡ªå®šä¹‰ Hook å¯ä»¥å°† React ä¸­æä¾›çš„ Hook ç»„åˆåˆ°å®šåˆ¶çš„ Hook ä¸­ï¼Œä»¥å¤ç”¨ä¸åŒç»„ä»¶ä¹‹é—´å¸¸è§çš„çŠ¶æ€é€»è¾‘ã€‚ä¸‹ä¸€é¡µ](<a href="https://zh-hans.reactjs.org/docs/hooks-custom.html" target="_blank" rel="noopener">https://zh-hans.reactjs.org/docs/hooks-custom.html</a>) ä¸­å­¦ä¹ è¿™ä¸ªã€‚)</p>
<p>éµå¾ªæ­¤è§„åˆ™ï¼Œç¡®ä¿ç»„ä»¶çš„çŠ¶æ€é€»è¾‘åœ¨ä»£ç ä¸­æ¸…æ™°å¯è§ã€‚</p>
<h2 id="ESLint-æ’ä»¶"><a href="#ESLint-æ’ä»¶" class="headerlink" title="ESLint æ’ä»¶"></a>ESLint æ’ä»¶</h2><p>æˆ‘ä»¬å‘å¸ƒäº†ä¸€ä¸ªåä¸º <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks" target="_blank" rel="noopener"><code>eslint-plugin-react-hooks</code></a> çš„ ESLint æ’ä»¶æ¥å¼ºåˆ¶æ‰§è¡Œè¿™ä¸¤æ¡è§„åˆ™ã€‚å¦‚æœä½ æƒ³å°è¯•ä¸€ä¸‹ï¼Œå¯ä»¥å°†æ­¤æ’ä»¶æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼š</p>
<p>æˆ‘ä»¬æ‰“ç®—åç»­ç‰ˆæœ¬é»˜è®¤æ·»åŠ æ­¤æ’ä»¶åˆ° <a href="https://zh-hans.reactjs.org/docs/create-a-new-react-app.html#create-react-app" target="_blank" rel="noopener">Create React App</a> åŠå…¶ä»–ç±»ä¼¼çš„å·¥å…·åŒ…ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-plugin-react-hooks --save-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ çš„ ESLint é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"plugins"</span>: [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="string">"react-hooks"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"rules"</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="string">"react-hooks/rules-of-hooks"</span>: <span class="string">"error"</span>, <span class="comment">// æ£€æŸ¥ Hook çš„è§„åˆ™</span></span><br><span class="line">    <span class="string">"react-hooks/exhaustive-deps"</span>: <span class="string">"warn"</span> <span class="comment">// æ£€æŸ¥ effect çš„ä¾èµ–</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç°åœ¨ä½ å¯ä»¥è·³è½¬åˆ°ä¸‹ä¸€ç« èŠ‚å­¦ä¹ å¦‚ä½•ç¼–å†™<a href="https://zh-hans.reactjs.org/docs/hooks-custom.html" target="_blank" rel="noopener">ä½ è‡ªå·±çš„ Hook</a>ã€‚</strong>åœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­è§£é‡Šè¿™äº›è§„åˆ™èƒŒåçš„åŸå› ã€‚</p>
<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>æ­£å¦‚æˆ‘ä»¬<a href="https://zh-hans.reactjs.org/docs/hooks-state.html#tip-using-multiple-state-variables" target="_blank" rel="noopener">ä¹‹å‰å­¦åˆ°</a>çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å•ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª State Hook æˆ– Effect Hook</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Form</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. Use the name state variable</span></span><br><span class="line">  <span class="keyword">const</span> [name[</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/05/23/websocket/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/23/websocket/" class="post-title-link" itemprop="url">websocket ä¸€äº›å°è„šæœ¬</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-23 23:34:00 / ä¿®æ”¹æ—¶é—´ï¼š23:45:51" itemprop="dateCreated datePublished" datetime="2021-05-23T23:34:00+08:00">2021-05-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tools/" itemprop="url" rel="index"><span itemprop="name">tools</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»Šå¤©å¹²æ´»åˆ° 11 ç‚¹åŠâ€¦â€¦.ä¸çŸ¥é“å†™å•¥äº†â€¦â€¦â€¦è¿™ä¸ªå‘¨æ¥è§¦ websocket å¤šäº›,å°±æŠŠç”¨çš„å‡ ä¸ªå°è„šæœ¬åˆ†äº«ä¸€ä¸‹,å½“å®Œæˆä»»åŠ¡äº†å“ˆå“ˆå“ˆâ€¦â€¦.</p>
<h2 id="websocket-æµ‹è¯•é¡µé¢"><a href="#websocket-æµ‹è¯•é¡µé¢" class="headerlink" title="websocket æµ‹è¯•é¡µé¢"></a>websocket æµ‹è¯•é¡µé¢</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>WebSocket Test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// var wsUri = "ws://localhost:8088"</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> output;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    output = <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>);</span></span><br><span class="line">    testWebSocket();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">testWebSocket</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    websocket = <span class="keyword">new</span> WebSocket(wsUri);</span></span><br><span class="line"><span class="actionscript">    websocket.onopen = <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line">      onOpen(evt);</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="actionscript">    websocket.onclose = <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line">      onClose(evt);</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="actionscript">    websocket.onmessage = <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line">      onMessage(evt);</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="actionscript">    websocket.onerror = <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line">      onError(evt);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">onOpen</span><span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    writeToScreen(<span class="string">"CONNECTED"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// doSend("WebSocket rocks");</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">onClose</span><span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    writeToScreen(<span class="string">"DISCONNECTED"</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">onMessage</span><span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line">    writeToScreen(</span><br><span class="line"><span class="handlebars"><span class="xml">      '<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: blue;"</span>&gt;</span>RESPONSE: ' + evt.data + "<span class="tag">&lt;/<span class="name">span</span>&gt;</span>"</span></span></span><br><span class="line">    );</span><br><span class="line">    websocket.close();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">onError</span><span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    writeToScreen('<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: red;"</span>&gt;</span>ERROR:<span class="tag">&lt;/<span class="name">span</span>&gt;</span> ' + evt.data);</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">doSend</span><span class="params">(message)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    writeToScreen(<span class="string">"SENT: "</span> + message);</span></span><br><span class="line">    websocket.send(message);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">writeToScreen</span><span class="params">(message)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> pre = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="actionscript">    pre.style.wordWrap = <span class="string">"break-word"</span>;</span></span><br><span class="line">    pre.innerHTML = message;</span><br><span class="line">    output.appendChild(pre);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, init, <span class="literal">false</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>WebSocket Test<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"output"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="python-ç‰ˆæœ¬çš„è¿æ¥-websocket-å¹¶ä¿å­˜æ•°æ®"><a href="#python-ç‰ˆæœ¬çš„è¿æ¥-websocket-å¹¶ä¿å­˜æ•°æ®" class="headerlink" title="python ç‰ˆæœ¬çš„è¿æ¥ websocket å¹¶ä¿å­˜æ•°æ®"></a>python ç‰ˆæœ¬çš„è¿æ¥ websocket å¹¶ä¿å­˜æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> aiowebsocket.converses <span class="keyword">import</span> AioWebSocket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">startup</span><span class="params">(uri)</span>:</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> AioWebSocket(uri) <span class="keyword">as</span> aws:</span><br><span class="line">        converse = aws.manipulator</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">"./log.txt"</span>,<span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                <span class="keyword">await</span> converse.send(<span class="string">'90'</span>)</span><br><span class="line">                mes = <span class="keyword">await</span> converse.receive()</span><br><span class="line">                <span class="comment"># print(mes)</span></span><br><span class="line">                f.write(mes)</span><br><span class="line">                f.write(<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    print(<span class="string">"start"</span>)</span><br><span class="line">    remote = <span class="string">"ws://xxx.ws"</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        asyncio.get_event_loop().run_until_complete(startup(remote))</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt <span class="keyword">as</span> exc:</span><br><span class="line">        logging.info(<span class="string">"quit."</span>)</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ä¸Šé¢-python-è„šæœ¬è”åŠ¨-æ¨¡æ‹Ÿ-websocket"><a href="#ä¸ä¸Šé¢-python-è„šæœ¬è”åŠ¨-æ¨¡æ‹Ÿ-websocket" class="headerlink" title="ä¸ä¸Šé¢ python è„šæœ¬è”åŠ¨ ,æ¨¡æ‹Ÿ websocket"></a>ä¸ä¸Šé¢ python è„šæœ¬è”åŠ¨ ,æ¨¡æ‹Ÿ websocket</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//https://www.npmjs.com/package/ws</span></span><br><span class="line"><span class="keyword">const</span> WebSocket = <span class="built_in">require</span>(<span class="string">"ws"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// read contents of the file</span></span><br><span class="line">  <span class="comment">// How to read a file line by line in Node.js https://attacomsian.com/blog/reading-a-file-line-by-line-in-nodejs</span></span><br><span class="line">  <span class="keyword">const</span> data = fs.readFileSync(<span class="string">"log.txt"</span>, <span class="string">"UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// split the contents by new line</span></span><br><span class="line">  <span class="keyword">const</span> lines = data.split(<span class="regexp">/\r?\n/</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// print all lines</span></span><br><span class="line">  <span class="comment">// lines.forEach(line =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   const a = JSON.parse(line);</span></span><br><span class="line">  <span class="comment">//   console.log(line, typeof line, a.crossingName);</span></span><br><span class="line">  <span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> lineNum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> try3Times = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> tryN = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// console.log("debug:: ğŸ˜ˆ", "scratch.js::", "line No: 6: ", lineNum,)</span></span><br><span class="line">      lineNum = (lineNum + <span class="number">1</span>) % <span class="number">100</span>;</span><br><span class="line">      <span class="keyword">const</span> d = lines[lineNum];</span><br><span class="line">      <span class="keyword">if</span> (!d &amp;&amp; tryN &lt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="comment">// console.log("debug:: ğŸ˜ˆ", "scratch.js::", "line No: 11: ",tryN ,d)</span></span><br><span class="line"></span><br><span class="line">        tryN += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> a();</span><br><span class="line">      &#125;</span><br><span class="line">      tryN = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">return</span> d;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fun = try3Times();</span><br><span class="line">  <span class="keyword">const</span> Wss = <span class="keyword">new</span> WebSocket.Server(&#123; <span class="attr">port</span>: <span class="number">8088</span> &#125;);</span><br><span class="line"></span><br><span class="line">  Wss.on(<span class="string">"connection"</span>, (ws) =&gt; &#123;</span><br><span class="line">    ws.on(<span class="string">"message"</span>, <span class="function"><span class="keyword">function</span> <span class="title">incoming</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">      ws.send(fun());</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"received: %s"</span>, message);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"connection"</span>);</span><br><span class="line">    ws.send(fun());</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="built_in">console</span>.error(err);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/05/16/no_code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/16/no_code/" class="post-title-link" itemprop="url">ä½ä»£ç (no code | low code)ä¼šå†…å·å‰ç«¯å²—ä½å—?</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-16 15:45:00 / ä¿®æ”¹æ—¶é—´ï¼š16:09:03" itemprop="dateCreated datePublished" datetime="2021-05-16T15:45:00+08:00">2021-05-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/front/" itemprop="url" rel="index"><span itemprop="name">front</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä¹‹å‰å¬ä½ä»£ç å¹³å°æ„Ÿè§‰å°±æ˜¯ä¸ªå™±å¤´,ä¸è¿‡æœ€è¿‘é•¿æœŸçœ‹çš„ä¿©å¤§ä½¬çš„åšå®¢å…¬ä¼—å· åˆå¼€å§‹é¼“å¹â€ä¸ä¼šå‰ç«¯æ˜¯å¦èƒ½å®Œæˆå¼€å‘â€,ç„¶åç»™å‡ºæŒºè‚¯å®šçš„å›ç­”â€¦æ„Ÿè§‰æœ‰ç‚¹æ…Œ,ä¸ä¼šå‰ç«¯å·¥ä½œè¢«ä¸€ç¾¤åˆšæ¯•ä¸šçš„å†…å·äº†å§?æ„Ÿè§‰å»æ‰¾äº†ç›¸å…³èµ„æ–™çœ‹äº†ä¸€æ—©ä¸Š.å°¤å…¶æ˜¯ webflow.com è¿˜ä¸“é—¨æ³¨å†Œäº†å¸å·æ˜¯æŠŠ demo èµ°äº†ä¸€éâ€¦.</p>
<p>çœæ—¶é—´,å…ˆè¯´æˆ‘ç°åœ¨çš„ç†è§£:è¿™ä¸ª no_code æ›´å¤§ç¨‹åº¦ä½¿ç”¨åœºæ™¯å—é™åˆ¶,å¯èƒ½é€‚åˆé‚£ç§è¡¨æ ¼,å·¥ä½œæµé‚£ç§å·¥ä½œ.æœ‰å¯èƒ½è¿˜ä¼šå¯¹ä¸æ€ä¹ˆå–œæ¬¢å†™æ ·å¼çš„å‰ç«¯æœ‰å¸®åŠ©ä½œç”¨.</p>
<h2 id="è¯æ®ä¸€-v2-ç½‘å‹"><a href="#è¯æ®ä¸€-v2-ç½‘å‹" class="headerlink" title="è¯æ®ä¸€ v2 ç½‘å‹"></a>è¯æ®ä¸€ v2 ç½‘å‹</h2><p>çœ‹äº†ä¸€åœˆ v2 æœ‰ç”¨è¿‡è¿™ä¸ªçš„ç¨‹åºå‘˜ä»¬çš„è¨€è®º,ä»–ä»¬æœ‰è‡ªå·±ç”¨è¿‡,æˆ–åœ¨å¼€å‘ nocode lowCode å¹³å°çš„.æ€»ç»“åŸºæœ¬å°±æ˜¯åœºæ™¯å—é™.è¿™ç§ä¸œè¥¿åœ¨ 2000 å¹´å·¦å³å°±æœ‰ç±»ä¼¼çš„ä¸œè¥¿,åªæ˜¯æŠ€æœ¯è¿›æ­¥ç»™æ¢æ±¤ä¸æ¢è¯çš„å‡çº§äº†ä¸€ä¸‹.</p>
<h2 id="è¯æ®äºŒ-è‡ªå·±ä½“éªŒ-webflow-com"><a href="#è¯æ®äºŒ-è‡ªå·±ä½“éªŒ-webflow-com" class="headerlink" title="è¯æ®äºŒ è‡ªå·±ä½“éªŒ webflow.com"></a>è¯æ®äºŒ è‡ªå·±ä½“éªŒ webflow.com</h2><p>ç”¨äº†ä¸€ä¸‹ç½‘å‹è¯´çš„æ¯”è¾ƒçƒ­é—¨çš„<a href="www.webflow.com">webflow</a> ,æ„Ÿè§‰è¿™ä¸ªä¸»è¦æ˜¯åœ¨ ui é™æ€é¡µé¢ä¸Šå¯ä»¥é€šè¿‡è„±è„±æ‹½æ‹½å®ç°æ¯”è¾ƒç‚«çš„æ•ˆæœ.è¿™ä¸ªæ„Ÿè§‰åè€Œæ˜¯ä¸ªå¥½äº‹,å¦‚æœä½ è§‰å¾—è‡ªå·±å»å†™æ ·å¼ä¸å¦‚åŒ–æ—¶é—´å»å­¦ä¹ è¿™äº›å·¥å…·ç”¨æ³•çš„å‰ç«¯. ä½†æ˜¯ä¾ç…§æˆ‘ä½“éªŒçš„ webflow çš„æ„Ÿå—,æ„Ÿè§‰å­¦ä¹ è¿˜æŒºæ— èŠçš„,ç¨å¾®å¥½çœ‹ç‚¹çš„å°±è¦ä¹°è¿™ä¸ªæ¨¡æ¿,ä»·æ ¼ä¸è²,è€Œä¸”å¯¼å‡ºåŠŸèƒ½ä¹Ÿè¦æ”¶è´¹,æ„Ÿè§‰å¯¼å‡ºçš„è¿˜æ˜¯ html,css è¿™ç§,ä¸æ˜¯ react ç­‰æ¡†æ¶â€¦â€¦â€¦æ„Ÿè§‰æ”¾å¿ƒäº†ä¸å°‘â€¦â€¦å“ˆå“ˆâ€¦â€¦</p>
<h2 id="è¯æ®ä¸‰-è‡ªå·±çœ‹çš„å…¬ä¼—å·æ–‡ç« "><a href="#è¯æ®ä¸‰-è‡ªå·±çœ‹çš„å…¬ä¼—å·æ–‡ç« " class="headerlink" title="è¯æ®ä¸‰ è‡ªå·±çœ‹çš„å…¬ä¼—å·æ–‡ç« "></a>è¯æ®ä¸‰ è‡ªå·±çœ‹çš„å…¬ä¼—å·æ–‡ç« </h2><p>çœ‹çš„æ¯”å¦‚ <a href="%https://mp.weixin.qq.com/s/Y6bsuKWkm29ibxmu7jF_hw%">å¦‚ä½•ä¸€è¡Œä»£ç éƒ½ä¸å†™ï¼Œå°±åšå‡ºç½‘ç«™å’Œåº”ç”¨ï¼Ÿ</a>è¿™ä¸ªè™½ç„¶ä½œè€…è§‰å¾— low code æŒºæœ‰å‰é€”,ä½†æ˜¯ä»–é€‰çš„ç²¾è¯„è®ºé‡Œä¹Ÿè¯´äº†(æœ‰ä¸€ä¸ªè¿˜æ˜¯æˆ‘è¯„è®ºçš„,å“ˆå“ˆ):</p>
<pre><code>&gt; è€å¸ˆï¼Œæˆ‘æ˜¯åšå¸‚åœºçš„ï¼Œè¡¨ç¤ºæ·±å—å…¶ç›Šã€‚æˆ‘å¸å®˜ç½‘(framely.io)å°±æ˜¯ç”¨ webflow åšçš„ã€‚åœ¨æ­¤ä¹‹å‰è¯•è¿‡é˜¿é‡Œçš„ Landingï¼Œä»¥åŠç½‘ä¸Šå¤§å®¶éƒ½æ¯”è¾ƒæ¨èçš„ WIXã€‚è™½ç„¶éƒ½æ˜¯ no codeï¼Œæ¯”è¾ƒä¸åŒçš„æ˜¯ï¼Œwebflow æ›´åƒæ˜¯åœ¨ç”¨ UI åšå¼€å‘ã€‚ç¨å¾®æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š
1ã€éœ€è¦å…ˆç¡®å®šç½‘ç«™çš„æ¡†æ¶ï¼Œé¡µé¢å¸ƒå±€ï¼Œå†…å®¹åŠå±•ç¤ºæ–¹å¼ï¼›
2ã€æŠ½è±¡å‡ºå¯ä»¥å¤ç”¨çš„çš„æ¨¡å—ï¼›
3ã€å®šä¹‰å¹¶è§„èŒƒå‘½åï¼ˆå³è‡ªå·±èƒ½è¾¨è¯†çš„ï¼Œæœ‰æ•ˆå±•ç¤ºå„æ¨¡å—åŠå…³ç³»çš„ï¼‰ï¼›
4ã€å¤ç”¨+ customizeã€‚

&gt; webflow æ— è®ºæ˜¯æ¡†æ¶åŠæ ·å¼éƒ½èƒ½å¤ç”¨ï¼Œå›¾å½¢å’ŒåŠ¨æ•ˆå¯ä»¥ç›´æ¥å®šä¹‰åœ¨é‡Œé¢ç›´æ¥é€‚é…ï¼Œè¿˜æœ‰å†…å®¹ç³»ç»Ÿï¼ˆç›¸å½“äºå†…å®¹æ•°æ®åº“ï¼‰å¯ä»¥è·å–åŠ¨æ€å†…å®¹ï¼ˆå³å®šä¹‰å¥½å‰ç«¯æ ·å¼ï¼Œä»¥ååŠ å†…å®¹å°±ç›´æ¥åŠ åœ¨å†…å®¹ç³»ç»Ÿä¸­ï¼Œä¸ç”¨åŠ¨å‰ç«¯ï¼Œå‘å¸ƒä¹Ÿå¯ä»¥åªå‘å¸ƒå†…å®¹ç³»ç»Ÿçš„ï¼‰ã€‚
è¿‡å»æ˜¯æˆ‘æ¥åšå®˜ç½‘å†…å®¹åŠæ•´ä½“æ¡†æ¶é¡µé¢è§„åˆ’ï¼Œç„¶åè®¾è®¡åŒå­¦è®¾è®¡ï¼Œå‰ç«¯åŒå­¦å®ç°ã€‚è¿™é‡Œå°±ç»å¸¸å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚è®¾è®¡çš„æ ·å¼å‰ç«¯åŒå­¦æ— æ³•å®ç°ã€æƒ³è¦çš„åŠ¨æ•ˆå‰ç«¯åŒå­¦ä¸èƒ½ä»¥è¾ƒé«˜æ•ˆçš„æ–¹å¼å®ç°å¯¼è‡´ä¸å¾—ä¸æ’¤æ‰ã€åˆ«çš„å®˜ç½‘å€Ÿé‰´çš„æ•ˆæœåšä¸å‡ºæ¥ã€‚æˆ‘å’Œè®¾è®¡åŒå­¦çš„æ²Ÿé€šæ¯”è¾ƒé¡ºåˆ©ï¼Œä½†æ²Ÿé€šæ˜¯éœ€è¦â€œæ—¶é—´+ç†è§£+ä¼˜åŒ–+å¤ç›˜â€çš„ã€‚ç°åœ¨ç­‰äºæ˜¯æˆ‘ä¸€ä¸ªäººå°±å¯ä»¥å®Œæˆæ‰€æœ‰çš„ï¼Œè¿˜èƒ½é€‚é…å„ä¸ªç«¯ï¼Œè¿˜æ¯”è¾ƒå°‘æœ‰ bugã€‚

ç»™æ‚¨æ¨èä¸€ä¸‹ï¼Œæ‚¨è¦æ˜¯æ²¡æœ‰æ—¶é—´è¯•ç”¨ï¼Œçœ‹äº†è¯„è®ºä¹Ÿèƒ½äº†è§£ã€‚ä¸ªäººæ„Ÿè§‰ no code ä¸ä»…ä»…æ˜¯æ‹–æ‹½ï¼Œåº”è¯¥æ˜¯æŒ‡ç”¨å¤§ä¼—ç†ŸçŸ¥çš„è¯­è¨€ï¼ˆæ¯”å¦‚ UI/å›¾å½¢è¯­è¨€ï¼‰åšå¼€å‘ï¼Œä¸å˜çš„æ˜¯æ€ç»´æˆ–æ€è€ƒæ–¹å¼ã€‚</code></pre><p>å°±æ¯”å¦‚ç”¨ uniapp è¿™ç”¨ AST å†™å°ç¨‹åº,flutter å†™æ‰‹æœºåº”ç”¨çš„ä¸€æ ·,æ˜¯ä½ åœ¨æ‡‚åŸç”Ÿçš„åŸºç¡€ä¸Šå¯èƒ½æœ‰ 1+1 &gt;2 çš„å·¦å³,è¦ä¸ä¼šæœ‰å¾ˆå¤šå‘.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/05/09/rss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/rss/" class="post-title-link" itemprop="url">rss è®©è‡ªå·±ä¸è¢«ç¤¾äº¤åª’ä½“å·¦å³</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-09 10:16:00" itemprop="dateCreated datePublished" datetime="2021-05-09T10:16:00+08:00">2021-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-05-23 23:45:51" itemprop="dateModified" datetime="2021-05-23T23:45:51+08:00">2021-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æœ€è¿‘çœ‹çš„æ–‡ç«  ä¸»è¦æ˜¯è®² ç°åœ¨å„å®¶å‚å•†æ¨å¹¿è‡ªå·±çš„ app ,æ·˜å®çš„ web ç«¯åŸºæœ¬éƒ½æ²¡æ³•ç”¨äº†,æ¥é€¼ç€ä½ ç”¨ app .ä»–ä»¬çš„ç›®çš„å°±æ˜¯æ”¶é›†ä½ çš„ä¿¡æ¯,ç„¶åé€šè¿‡<strong>ç®—æ³•</strong>ç»™ä½ æ¨è,é€¼ç€ä½ ä¹°ä¹°ä¹°â€¦â€¦ æˆ–è€…çœ‹ç½‘é¡µç»™ä½ æ¨é€ä¸€å¤§å †ä¿¡æ¯â€¦â€¦ç°åœ¨çš„äººä»¬æ›´åƒæ˜¯æ´»åœ¨<strong>åœ°çƒæ‘</strong>.å› ä¸ºå…¨ä¸–ç•Œæ¯å¤©éƒ½å¯ä»¥å…³æ³¨åŒç›¸åŒçƒ­ç‚¹â€¦â€¦.å¤§ç‰Œæ˜æ˜Ÿçš„å…«å¦,æŸæŸæ”¿æ²»å®¶çš„æ´»åŠ¨,æˆ‘ä»¬çš„å¾—èŠ±å¤šå°‘æ—¶é—´æ‰èƒ½æŒ£â€1 çˆ½â€çš„é’±,è¯¸å¦‚æ­¤ç±»,æœ€è¿‘æˆ‘æœ€çˆ±çœ‹çš„ B ç«™ä¹Ÿå˜äº†,å¼€å§‹ç»™æˆ‘æ¨ä¸€å †æˆ¿å­çš„â€¦â€¦.</p>
<p>ç®—æ³•æ¨é€ç³Ÿé€äº†ï¼›è®©æˆ‘ä»¬ç”¨ <strong>RSS feed</strong> ä»£æ›¿å®ƒã€‚</p>
<p>æ˜¯çš„ï¼Œæˆ‘æ˜¯è¯´æˆ‘ä»¬åº”è¯¥å¸¦å›ä¸€ä¸ªå·²ç»è¿‡æ—¶ä¸”æœªå¾—åˆ°å……åˆ†åˆ©ç”¨çš„åè®®ï¼Œä»¥è‡³äº Google åœ¨ 2013 å¹´å…³é—­äº†å®ƒè‡ªå·±çš„æœåŠ¡ã€‚æˆ‘æ˜¯è¯´æˆ‘ä»¬è¿«åˆ‡éœ€è¦åˆ‡æ¢åˆ°ä¸€ä¸ªä¸å¤ªä¼˜é›…ï¼Œä¸å¤ªæ–¹ä¾¿çš„ç³»ç»Ÿï¼Œå› ä¸ºç¤¾äº¤åª’ä½“æ­£åœ¨æ¯’å®³æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚ï¼ˆæ˜¯çš„ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯è¿‡åˆ†ç®€åŒ–ï¼Œä½†è¿™å¹¶ä¸æ˜¯è¯´äººä»¬åœ¨è¿™é‡ŒçœŸçš„æ„è§åˆ†æ­§â€¦â€¦ï¼‰</p>
<p>ç®—æ³•æ²¡æœ‰ä»»ä½•å¸®åŠ©ï¼Œå› ä¸ºæˆ‘ä¹‹å‰æ›¾åœ¨ Netflix ä¸Šé—²é€›è¿‡ã€‚ä»¤äººéœ‡æƒŠçš„æ˜¯ï¼Œäººä»¬å·²ç»çœ‹åˆ° Facebookï¼ŒYoutube å’Œ Twitter ç­‰ç½‘ç«™ä¸Šçš„ç®—æ³•ä»¥å¥‡æ€ªä¸”æœ‰å®³çš„æ–¹å¼æ¨æ³¢åŠ©æ¾œã€‚ä»–ä»¬å¸Œæœ›æ‚¨ä¸æ–­ç‚¹å‡»å¹¶<strong>ä¸æ–­è·å¾—å¹¿å‘Š</strong>ï¼Œä»è€Œä¸æ–­å°†æœ€åæ¿€çš„è¨€è®ºæ¨é€ç»™ä½ ï¼Œæˆ‘ä»¬éœ€è¦å‹‡æ•¢çš„è¿œç¦»è¿™äº›æ¶ˆæ¯ã€‚ç”±äºç¤¾äº¤åª’ä½“ç®—æ³•å®Œå…¨æ¥ç®¡äº†æˆ‘ä»¬çš„å›½å®¶è¯è¯­ï¼Œæ•´ä¸ª<strong>ç¾å›½çš„é€‰ä¸¾è¿‡ç¨‹éƒ½è¢«é¢ è¦†äº†</strong>ã€‚è¿˜è®°å¾—å—? æ˜¯çš„ï¼Œè¿™å¤ªå¯æ€•äº†ã€‚</p>
<p>è¿™äº›ä¸œè¥¿åœ¨ 2010 å¹´ä»£å¾—åˆ°äº†å¾ˆå¥½çš„è®°å½•ï¼Œåœ¨è¿™é‡Œéœ€è¦é‡å¤ï¼šä¸åå¹´å‰ç›¸æ¯”ï¼Œä¸–ç•Œå˜å¾—<strong>æ›´åŠ åˆ†è£‚</strong>ï¼Œ<strong>æ›´åŠ æ„¤æ€’</strong>ã€‚å¦‚æœæ²¡æœ‰æ•´ä¸ªç¾å›½äººå£çš„æ¿€å¢ï¼Œ2021 å¹´ 1 æœˆ 6 æ—¥çš„äº‹ä»¶å°†æ°¸è¿œä¸ä¼šå‘ç”Ÿï¼Œ<strong>è€Œæ¿€è¿›åŒ–å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç”±ç¤¾äº¤ç½‘ç»œä¸è´Ÿè´£ä»»åœ°å‘æˆ‘ä»¬æä¾›äº†æˆ‘ä»¬æ¸´æœ›ä¸ºæ„¤æ€’çš„å›å£°å®¤æä¾›çš„æ‰€æœ‰å†…å®¹</strong>ã€‚</p>
<p>å¦‚æ­¤ä¹‹å¤šçš„æ„¤æ€’ï¼Œå¦‚æ­¤ä¹‹å¤šçš„åˆ†æ­§ï¼Œå¦‚æ­¤ä¹‹å¤šçš„ç™½ç—´è™šå‡æ–°é—»ã€‚</p>
<p>æˆ‘è¯´ï¼Œè®©è¿™äº›ä¸œè¥¿è§é¬¼å»å§ï¼›æˆ‘ä¸è·Ÿä½ ä»¬ç©äº†ã€‚</p>
<h2 id="ä½¿ç”¨-RSS-feed"><a href="#ä½¿ç”¨-RSS-feed" class="headerlink" title="ä½¿ç”¨ RSS feed"></a>ä½¿ç”¨ RSS feed</h2><p>é¦–å…ˆï¼Œè®¾ç½®å–æ¶ˆæ‚¨çš„ç¤¾äº¤åª’ä½“è‡ªåŠ¨æ¨é€ã€‚æˆ‘ä½¿ç”¨æ‰©å±•å<a href="https://chrome.google.com/webstore/detail/undistracted-hide-faceboo/pjjgklgkfeoeiebjogplpnibpfnffkng" target="_blank" rel="noopener">Undistracted</a>ï¼Œæ‚¨ä¹Ÿåº”è¯¥ä½¿ç”¨ã€‚éšè— Facebook æ–°é—»æè¦ã€‚éšè— Twitter æè¦ã€‚éšè— YouTube è¯„è®ºã€‚</p>
<p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥è®¿é—®ç¤¾äº¤åª’ä½“ï¼Œè€Œä¸ä¼šè¢«ç®—æ³•å·¦å³ã€‚æ¥ä¸‹æ¥ï¼Œæ˜¯æ—¶å€™ç”¨é‚£ä¸ªæ›¾ç»å·®ç‚¹æ¶ˆå¤±çš„æŠ€æœ¯äº†ï¼š_RSS Feeds_ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œå¯è®©æ‚¨è½»æ¾åº”å¯¹ã€‚RSS æ¨é€å¾ˆç¬¨æ‹™ï¼Œä½†æ˜¯å‡ ä¹æ¯ä¸ªç«™ç‚¹éƒ½ä½¿ç”¨å®ƒä»¬ã€‚æ‚¨å°†è¯¥ RSS æè¦ URL æ’å…¥é˜…è¯»å™¨ç½‘ç«™ / åº”ç”¨ç¨‹åºå’Œ bamã€‚ç°åœ¨ï¼Œæ‚¨å°†ä»è¯¥æ¨é€ä¸­è·å–çš„æ‰€æœ‰æ–‡ç« éƒ½æ”¾å…¥äº†æ‚¨çš„ç¬”è®°ä¸­ã€‚ä½†æ˜¯åªæœ‰æ‚¨å†³å®šåŒ…æ‹¬çš„å†…å®¹ï¼Œå¹¶ä¸”åªèƒ½æŒ‰æ—¶é—´é¡ºåºã€‚</p>
<p>é‚£é‡Œæœ‰å¾ˆå¤š<a href="https://www.wpsuperstars.net/free-rss-feed-readers/" target="_blank" rel="noopener">RSS feed é˜…è¯»å™¨</a>ã€‚æˆ‘è‡ªå·±ä½¿ç”¨<a href="https://feedly.com/i/welcome" target="_blank" rel="noopener">Feedly</a> .</p>
<p>æ‚¨å¯ä»¥æŸ¥çœ‹å¤´æ¡æ–°é—»ï¼Œäº†è§£æƒ³è¦é˜…è¯»çš„å†…å®¹å’Œæƒ³è¦å¿½ç•¥çš„å†…å®¹ï¼›æ‚¨å¯ä»¥ä¿å­˜æ–‡ç« ä»¥ä¾›ä»¥åä½¿ç”¨ï¼Œå¹¶å°†å…¶åˆ†ç±»ä¸ºä¸åŒçš„ç±»åˆ«ï¼›æ‚¨ç»ˆäºå¯ä»¥å°†æ¼«ç”»å¸¦å›åˆ°æ‚¨çš„ç”Ÿæ´»ä¸­ã€‚<strong>æ²¡æœ‰ç®—æ³•</strong>å¯ä»¥å†³å®šæ‚¨æœ€æƒ³çœ‹çš„æ˜¯ä»€ä¹ˆã€‚æ²¡æœ‰æ•°æ®æ”¶é›†å¯æŒ–æ˜æ‚¨çš„æ´»åŠ¨ä»¥å»ºç«‹å¹¿å‘Šèµ„æ–™ã€‚è¿™åªæ˜¯æ‚¨æ·»åŠ çš„ç«™ç‚¹ä¸­æ‰€æœ‰æ–‡ç« çš„åˆ—è¡¨ã€‚</p>
<p>ä¸€ä¸ªè®ºç‚¹æ˜¯ï¼Œ_æ‚¨å¯ä»¥ä½¿ç”¨ RSS æè¦å¤ªå®¹æ˜“åœ°åˆ›å»ºå›å£°å®¤_ã€‚å°¤å…¶å¯¹äºæ–°é—»è€Œè¨€ï¼Œä»…ä¾èµ–ç‰¹å®šæ•°é‡çš„ç«™ç‚¹åªä¼šä½¿æ‚¨å¯¹äº‹ä»¶æœ‰ä¸€å®šçš„äº†è§£ã€‚å¯ä»¥é€šè¿‡åœ¨ Feed ä¸­è·å¾—æ›´å¤šçš„ç½‘ç«™æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚ä½†æ›´é‡è¦çš„æ˜¯â€¦â€¦ æ‚¨è®¤ä¸ºç¤¾äº¤åª’ä½“ç®—æ³•ä¸ä¼šåˆ›å»ºå›å£°å®¤å—ï¼Ÿè€å®è¯´ï¼Œæˆ‘è®¤ä¸ºæƒ…å†µå¯èƒ½æ›´ç³Ÿï¼</p>
<p>åœ¨ç¤¾äº¤åª’ä½“ä¸Šï¼Œä¸‰å§‘å…­å©†å…³äºå¯¼è‡´ 5G è‡´ç™Œçš„æ— å˜å¤´çš„è½¬å‘ï¼Œä¸åœ¨äºšç‰¹å…°å¤§è¿›è¡Œçš„ä¸€é¡¹å®éªŒæ€§åŸå¸‚å›­è‰ºè®¡åˆ’çš„æ·±å…¥æ¢è®¿ä¸€æ ·ï¼Œéƒ½ä¼šä¸€èµ·æ¨é€ç»™ä½ ï¼Œæ‚¨æ»šåŠ¨äº†ä¸€æ¬¡å´å†ä¹Ÿçœ‹ä¸åˆ°ã€‚è¿™ä¸¤ä»¶äº‹ä¹‹ä¸€è·å¾—ç‚¹å‡»ï¼Œè€Œè¿™ä¸¤ä»¶äº‹ä¹‹ä¸€ä¸ºç¤¾äº¤åª’ä½“åˆ›é€ äº†å¾ˆå¤šæ”¶å…¥ã€‚ä¸æ˜¯éƒ½å¸‚å†œä¸šã€‚ä½†æ˜¯ï¼Œä½¿ç”¨ RSS é˜…è¯»å™¨ï¼Œæ‚¨å¯ä»¥å°†è¯¥æ–‡ç« æ·»åŠ åˆ° â€œç¨åé˜…è¯»â€ åˆ—è¡¨ä¸­ï¼Œæœ‰ç©ºçš„æ—¶å€™å†å›åˆ°å®ƒï¼Œè€Œä¸”ç¬¨æ‹™ï¼Œæ‚¨ç”šè‡³ä¸å¿…ä¸€çœ¼å°±çœ‹åˆ°ä¸‰å§‘å…­å©†çš„æ¶ˆæ¯æé†’ã€‚</p>
<p>è®©æˆ‘ä»¬æŠ›å¼ƒç®—æ³•ã€‚è®©æˆ‘ä»¬é‡æ–°æ§åˆ¶è‡ªå·±çš„äº’è”ç½‘ç”Ÿæ´»ã€‚RSS æè¦åœ¨ 2010 å¹´ä»£å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œä½†å®ƒä»¬æ˜¯ 2020 å¹´ä»£çš„å…‰æ˜å‰æ™¯ã€‚</p>
<h2 id="åŸæ–‡"><a href="#åŸæ–‡" class="headerlink" title="åŸæ–‡"></a><a href="%https://thedude3445.quinlancircle.com/2021/04/04/rss-feeds/%">åŸæ–‡</a></h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/05/02/ts-useState/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/02/ts-useState/" class="post-title-link" itemprop="url">TypeScript ç»“åˆ React.useState æ­£ç¡®æ–¹å¼</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-02 21:01:00 / ä¿®æ”¹æ—¶é—´ï¼š21:45:39" itemprop="dateCreated datePublished" datetime="2021-05-02T21:01:00+08:00">2021-05-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/react/" itemprop="url" rel="index"><span itemprop="name">react</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/react/typescript/" itemprop="url" rel="index"><span itemprop="name">typescript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="useDarkMode-hook"><a href="#useDarkMode-hook" class="headerlink" title="useDarkMode hook :"></a><code>useDarkMode</code> hook :</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> DarkModeState = <span class="string">"dark"</span> | <span class="string">"light"</span>;</span><br><span class="line"><span class="keyword">type</span> SetDarkModeState = React.Dispatch&lt;React.SetStateAction&lt;DarkModeState&gt;&gt;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> preferDarkQuery = <span class="string">"(prefers-color-scheme: dark)"</span>;</span><br><span class="line">  <span class="keyword">const</span> [mode, setMode] = React.useState&lt;DarkModeState&gt;<span class="function">(<span class="params">(<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> lsVal = <span class="built_in">window</span>.localStorage.getItem(<span class="params">"colorMode"</span>);</span></span></span><br><span class="line"><span class="function"><span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">if</span> (<span class="params">lsVal</span>) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">      <span class="keyword">return</span> lsVal === "dark" ? "dark" : "light";</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">      <span class="keyword">return</span> <span class="built_in">window</span>.matchMedia(<span class="params">preferDarkQuery</span>).matches ? "dark" : "light";</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125;</span>);</span></span><br><span class="line"><span class="function">  <span class="params">React</span>.<span class="params">useEffect</span>(<span class="params">(<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> mediaQuery = <span class="built_in">window</span>.matchMedia(<span class="params">preferDarkQuery</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">const</span> handleChange = (<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">      setMode(<span class="params">mediaQuery.matches ? "dark" : "light"</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;;</span></span></span><br><span class="line"><span class="function"><span class="params">    mediaQuery.addEventListener(<span class="params">"change", handleChange</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">return</span> (<span class="params"></span>) =&gt; mediaQuery.removeEventListener(<span class="params">"change", handleChange</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125;, []</span>);</span></span><br><span class="line"><span class="function">  <span class="params">React</span>.<span class="params">useEffect</span>(<span class="params">(<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="built_in">window</span>.localStorage.setItem(<span class="params">"colorMode", mode</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125;, [mode]</span>);</span></span><br><span class="line"><span class="function">  // <span class="params">we</span>'<span class="params">re</span> <span class="params">doing</span> <span class="params">it</span> <span class="params">this</span> <span class="params">way</span> <span class="params">instead</span> <span class="params">of</span> <span class="params">as</span> <span class="params">an</span> <span class="params">effect</span> <span class="params">so</span> <span class="params">we</span> <span class="params">only</span></span></span><br><span class="line"><span class="function">  // <span class="params">set</span> <span class="params">the</span> <span class="params">localStorage</span> <span class="params">value</span> <span class="params">if</span> <span class="params">they</span> <span class="params">explicitly</span> <span class="params">change</span> <span class="params">the</span> <span class="params">default</span></span></span><br><span class="line"><span class="function">  <span class="params">return</span> [<span class="params">mode</span>, <span class="params">setMode</span>] <span class="params">as</span> <span class="params">const</span>;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="A-closer-look"><a href="#A-closer-look" class="headerlink" title="A closer look"></a>A closer look</h2><p>I want to call out a few things about the hook itself that made things work well from a TypeScript perspective. First, letâ€™s clear out all the extra stuff and just look at the important bits. Weâ€™ll even clear out the TypeScript and add it iteratively:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [mode, setMode] = React.useState(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"light"</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> [mode, setMode];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [mode, setMode] = useDarkMode();</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button onClick=&#123;<span class="function"><span class="params">()</span> =&gt;</span> setMode(mode === <span class="string">"light"</span> ? <span class="string">"dark"</span> : <span class="string">"light"</span>)&#125;&gt;</span><br><span class="line">      Toggle <span class="keyword">from</span> &#123;mode&#125;</span><br><span class="line">    &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>From the get-go, weâ€™ve got an error when calling setMode:</p>
<p>This expression is not callable.<br>Not all constituents of type â€˜string | React.Dispatch&lt;SetStateAction<string>&gt;â€™ are callable.<br>Type â€˜stringâ€™ has no call signatures.(2349)<br>You can read each addition of indentation as â€œbecauseâ€, so letâ€™s read that again:</p>
<blockquote>
<p>è¿™ä¸ªè¡¨è¾¾å¼ä¸æ˜¯å¯è¢«è°ƒç”¨çš„. <em>Because</em> not all constituents of type â€˜string | React.Dispatch&lt;SetStateAction<string>&gt;â€™ are callable. å› ä¸ºæ¨æ–­å‡ºæœ‰ä¿©å€¼,å…¶ä¸­æ˜¯ string ä¸å¯è°ƒç”¨(2349)</p>
</blockquote>
<p>æˆ‘ä»¬è‚‰çœ¼å¯è§ setMode æ˜¯ä¸ªå‡½æ•°,ä¸ºå•¥ ts æ¨æ–­å®ƒæ˜¯ä¸¤ç§ç±»å‹?</p>
<p>æˆ‘ä»¬æ¢ç§å†™æ³•:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = useDarkMode();</span><br><span class="line"><span class="keyword">const</span> mode = array[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">const</span> setMode = array[<span class="number">1</span>];</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ç§æƒ…å½¢ä¸‹ array æœ‰ä»¥ä¸‹æ¨æ–­:</p>
<p><code>Array&lt;string | React.Dispatch&lt;React.SetStateAction&lt;string&gt;&gt;&gt;</code></p>
<p>TypeScript è‡ªå·±æ¨æ–­ä¸å‡ºæ¥æ•°ç»„çš„å…ˆåé¡ºåº,å®ƒåªçŸ¥é“æ•°ç»„è¿”å›äº†ä¸ª string å’Œ Dispatch ç±»å‹</p>
<p>But Reactâ€™s useState hook manages to ensure when we extract values out of it. Letâ€™s take a quick look at their type definition for useState:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useState</span>&lt;<span class="title">S</span>&gt;(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  initialState: S | (() =&gt; S)</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): [<span class="title">S</span>, <span class="title">Dispatch</span>&lt;<span class="title">SetStateAction</span>&lt;<span class="title">S</span>&gt;&gt;]</span>;</span><br></pre></td></tr></table></figure>

<p>Ah, so they have a return type that is an array with explicit types. So rather than an array of elements that can be one of two types, itâ€™s explicitly an array with two elements where the first is the type of state and the second is a Dispatch SetStateAction for that type of state.</p>
<p>æˆ‘ä»¬éœ€è¦å‘Šè¯‰ TypeScript æˆ‘ä»¬ç¡®ä¿æ•°ç»„ä¸ä¼šæ”¹å˜.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>): [<span class="title">string</span>, <span class="title">React</span>.<span class="title">Dispatch</span>&lt;<span class="title">React</span>.<span class="title">SetStateAction</span>&lt;<span class="title">string</span>&gt;&gt;] </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> [mode, setMode];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Or we could make a specific type for a variable:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">const</span> returnValue: [<span class="built_in">string</span>, React.Dispatch&lt;React.SetStateAction&lt;<span class="built_in">string</span>&gt;&gt;] = [</span><br><span class="line">    mode,</span><br><span class="line">    setMode,</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">return</span> returnValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´å¥½çš„æ–¹å¼ æ˜¯ Typescript å†…å»ºäº†è¿™ä¸ªèƒ½åŠ›,å› ä¸º typescript å·²ç»çŸ¥é“äº† array çš„ç±»å‹.æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰ ts â€œè¿”å›æ•°æ®æ˜¯ä¸å˜çš„â€ æˆ‘ä»¬æŒ‡å®šè¿”å›å€¼ä¸º const</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> [mode, setMode] <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦ ts è‡ªå·±åˆ¤æ–­è¿”å›ç±»å‹</p>
<p>And we can take it a step further because with our Dark Mode functionality, the string can be either dark or light so we can do better than TypeScriptâ€™s inference and pass the possible values explicitly:</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDarkMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [mode, setMode] = React.useState&lt;<span class="string">"dark"</span> | <span class="string">"light"</span>&gt;<span class="function">(<span class="params">(<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="comment">// ...</span></span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">return</span> "light";</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125;</span>);</span></span><br><span class="line"><span class="function">  // ...</span></span><br><span class="line"><span class="function">  <span class="params">return</span> [<span class="params">mode</span>, <span class="params">setMode</span>] <span class="params">as</span> <span class="params">const</span>;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<p>This will help us when we call setMode to ensure we not only call it with a string, but the right type of string. I also created type aliases for this and the dispatch function to make the prop types easier as I pass these values around my app.</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="%https://kentcdodds.com/blog/wrapping-react-use-state-with-type-script%">ref1</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/04/25/d3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/25/d3/" class="post-title-link" itemprop="url">d3Jså…¥é—¨</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-25 10:57:00 / ä¿®æ”¹æ—¶é—´ï¼š11:26:47" itemprop="dateCreated datePublished" datetime="2021-04-25T10:57:00+08:00">2021-04-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>chart ä¹‹ç±»å¦‚æœç”¨åˆ«äººçš„åº“ å…¶å® æœ€ç»ˆå±•ç¤ºçš„ æ˜¯ svg .ç„¶å d3Js æ˜¯ä¸€ä¸ªä¸»è¦åŸºäº svg çš„ä¸€ä¸ª dom æ“ä½œçš„åº“. æœ€è¿‘å­¦ä¹ äº†ä¸€ä¸‹. å› ä¸ºæœ‰äº›éœ€è¦å¯èƒ½:</p>
<ul>
<li>ç”¨åˆ«äººåº“å¯èƒ½æ€é¸¡ç”¨ç‰›åˆ€</li>
<li>å®šåˆ¶éœ€æ±‚</li>
<li>å¦‚æœè€æ¿æƒ³è¦ä¸€äº›ç‚«çš„åŠ¨æ•ˆ,æˆ–è€…ä¸€äº›æœ‰äº¤äº’çš„ç»„ä»¶, æ¯”å¦‚ä¸€ä¸ªè¡Œé©¶çš„å°è½¦.è¿™äº›å…¶å®ç”¨ d3 å¾ˆæ–¹ä¾¿.</li>
<li>è‡ªå·±æƒ³æŠ˜è…¾ä¸€ä¸‹å§â€¦â€¦..å¤šäº†è§£ä¸€äº›</li>
</ul>
<h2 id="d3-vs-threeJs"><a href="#d3-vs-threeJs" class="headerlink" title="d3 vs threeJs"></a>d3 vs threeJs</h2><h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><ul>
<li>d3 ä¸»è¦æ˜¯åŸºäº svg çš„ ,å¦‚æœæ˜¯æ“ä½œå‡ ä¸ª dom,å½¢çŠ¶è¿™ä¸ªåˆé€‚</li>
<li>threejs ä¸»è¦æ˜¯åŸºäº webgl ,canval çš„åº“,3d æ•ˆæœçš„å¤æ‚çš„å›¾åƒéœ€æ±‚</li>
</ul>
<h2 id="svg"><a href="#svg" class="headerlink" title="svg"></a>svg</h2><p>svg å­¦ä¹ å¯ä»¥çœ‹çœ‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">mdn çš„å®˜ç½‘  </a> .</p>
<h3 id="ä¸»è¦çš„å…ƒç´ "><a href="#ä¸»è¦çš„å…ƒç´ " class="headerlink" title="ä¸»è¦çš„å…ƒç´ "></a>ä¸»è¦çš„å…ƒç´ </h3><ul>
<li>path</li>
<li>line</li>
<li>rect</li>
<li>text<br><img src="./pics/d3-svg1.png" alt="å…ƒç´ "></li>
</ul>
<h2 id="d3-å­¦ä¹ "><a href="#d3-å­¦ä¹ " class="headerlink" title="d3 å­¦ä¹ "></a>d3 å­¦ä¹ </h2><p>æˆ‘ä¸»è¦æ˜¯çœ‹äº†ä¸€å † frontendMaster çš„è¯¾ç¨‹.</p>
<p>ä¸ªäººæ„Ÿè§‰ç¬”è®°éš¾ç†è§£çš„æ˜¯ d3 çš„é“¾å¼è°ƒç”¨å§.ä¸€å¼€å§‹ .ä¸»è¦å°±æ˜¯æœ‰ä¸€äº›æ˜¯æ‰¾åˆ° dom ,ç„¶åå¯ä»¥ä¹‹é—´å¥—ç”¨æ–¹æ³•.</p>
<ul>
<li>.call æ–¹æ³• å‚è€ƒ<a href="https://stackoverflow.com/questions/12805309/javascript-library-d3-call-function" target="_blank" rel="noopener">stackoverflow d3 call function</a><br>.call()æ˜¯ D3 API å‡½æ•°ï¼Œä¸è¦ä¸<em>Function.prototype.callï¼ˆï¼‰</em> æ··æ·†<blockquote>
<p>selection.call(function<a href="">, argumentsâ€¦</a>)<br>å®Œå…¨è°ƒç”¨ä¸€æ¬¡æŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶å°†æ­¤é€‰æ‹©ä¸ä»»ä½•å¯é€‰å‚æ•°ä¸€èµ·ä¼ é€’ã€‚è¿”å›æ­¤é€‰æ‹©ã€‚è¿™ç­‰æ•ˆäºæ‰‹åŠ¨è°ƒç”¨åŠŸèƒ½ï¼Œä½†æœ‰åŠ©äºæ–¹æ³•é“¾æ¥ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨å¯é‡ç”¨å‡½æ•°ä¸­è®¾ç½®å‡ ç§æ ·å¼ï¼š<br>ç°åœ¨è¯´ï¼š<br><code>d3.selectAll(&quot;div&quot;).call(name, &quot;John&quot;, &quot;Snow&quot;);</code><br>è¿™å¤§è‡´ç›¸å½“äºï¼š<br><code>name(d3.selectAll(&quot;div&quot;), &quot;John&quot;, &quot;Snow&quot;);</code><br>å”¯ä¸€çš„åŒºåˆ«æ˜¯ selection.call æ€»æ˜¯è¿”å›é€‰æ‹©å†…å®¹ï¼Œè€Œä¸æ˜¯è¢«è°ƒç”¨å‡½æ•° name çš„è¿”å›å€¼ã€‚</p>
</blockquote>
</li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.cassie.codes/posts/swipey-image-grids/" target="_blank" rel="noopener">https://www.cassie.codes/posts/swipey-image-grids/</a> svg çš„åŠ¨æ•ˆ</li>
<li><a href="https://wattenberger.com/blog/react-and-d3" target="_blank" rel="noopener">https://wattenberger.com/blog/react-and-d3</a> æ„Ÿè§‰æŒºç‚«çš„,ä¸è¿‡æ„Ÿè§‰æœ‰ç‚¹ä»£ç ä¸å…¨</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/04/18/leader/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/18/leader/" class="post-title-link" itemprop="url">ç¨‹åºçŒ¿çš„é¢†å¯¼åŠ›</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-18 21:32:00 / ä¿®æ”¹æ—¶é—´ï¼š23:03:18" itemprop="dateCreated datePublished" datetime="2021-04-18T21:32:00+08:00">2021-04-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/learn/" itemprop="url" rel="index"><span itemprop="name">learn</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>æ„Ÿè§‰ç½‘ä¸Šå¾ˆå°‘æœ‰å…³ç¨‹åºå‘˜æŠ€æœ¯è·¯çº¿çš„èŒä¸šè§„åˆ’,ç„¶åæœ€è¿‘çœ‹äº†ä¸€ç¯‡,å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ åŸæ–‡<a href="https://career-ladders.dev/engineering/" target="_blank" rel="noopener">https://career-ladders.dev/engineering/</a></p>
</blockquote>
<h1 id="èŒä¸šè§„åˆ’"><a href="#èŒä¸šè§„åˆ’" class="headerlink" title="èŒä¸šè§„åˆ’"></a>èŒä¸šè§„åˆ’</h1><p>æˆ‘ä¸ºæˆ‘æ‰€åœ¨çš„çš„å›¢é˜Ÿä½¿ç”¨çš„èŒä¸šè§„åˆ’çš„ä¸€ä¸ªæ ·ä¾‹ï¼Œå¯¹ä»»ä½•äººå¼€æºã€‚</p>
<h2 id="ä¸€çº§å·¥ç¨‹å¸ˆ"><a href="#ä¸€çº§å·¥ç¨‹å¸ˆ" class="headerlink" title="ä¸€çº§å·¥ç¨‹å¸ˆ#"></a>ä¸€çº§å·¥ç¨‹å¸ˆ#</h2><ul>
<li>å®Œæˆæ˜ç¡®å®šä¹‰çš„ä»»åŠ¡ï¼Œå¹¶åœ¨æœ‰é˜»å¡çš„æƒ…å†µä¸‹è¿›è¡Œæ²Ÿé€š</li>
<li>åŠªåŠ›å­¦ä¹ ç›¸å…³æŠ€æœ¯å’Œç³»ç»Ÿï¼Œç§¯æç»´æŠ¤å’Œæ‰©å±•ç³»ç»Ÿ</li>
<li>è™šå¿ƒåœ°ä¸å†…éƒ¨å’Œå¤–éƒ¨æ²Ÿé€š</li>
<li>é€šè¿‡å®Œæˆæ–°åŠŸèƒ½ã€é‡æ„ç°æœ‰ä»£ç æˆ–æ›´æ–°ç³»ç»Ÿæ¥è´´ç°è‡ªå·±çš„ä»·å€¼ï¼Œä»è€Œä½¿å…¶ä»–å¼€å‘äººå‘˜èƒ½å¤Ÿå–å¾—æˆåŠŸ</li>
<li>å¸®åŠ©è°ƒè¯•æŠ€æœ¯é—®é¢˜ã€‚æäº¤é—®é¢˜ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿè®°å½•å’Œæ”¹è¿›æˆ‘ä»¬çš„æœåŠ¡</li>
<li>å·¥ä½œç»éªŒï¼š<em>æ— å·¥ä½œç»éªŒ</em>ã€‚</li>
</ul>
<h2 id="äºŒçº§å·¥ç¨‹å¸ˆ"><a href="#äºŒçº§å·¥ç¨‹å¸ˆ" class="headerlink" title="äºŒçº§å·¥ç¨‹å¸ˆ#"></a>äºŒçº§å·¥ç¨‹å¸ˆ#</h2><ul>
<li>è‡´åŠ›äºæ¨åŠ¨æ›´å¤§ç‰¹æ€§çš„å·¥ç¨‹åˆ›æ–°ï¼ŒåŒæ—¶æ³¨æ„ä¸è¦åœ¨è¿‡ç¨‹ä¸­äº§ç”Ÿä»»åŠ¡å»¶æœŸ</li>
<li>å…ˆå‘åˆ¶äººçš„æ‰«æä¼šå¯¼è‡´ç§¯å‹ã€‚è¡ŒåŠ¨åŒ…æ‹¬ä½†ä¸é™äºï¼šç†Ÿæ‚‰ç³»ç»Ÿä¸­çš„ç–¼ç—›ç‚¹ï¼Œåº”ç”¨ç›¸å…³æ ‡ç­¾å’Œåˆ†ç±»ï¼Œé€šè¿‡æ‹‰è¯·æ±‚æˆ–å…¶ä»–æ–¹å¼å…³é—­å®ƒä»¬</li>
<li>ä½“è°…å›¢é˜Ÿä¸­çš„å…¶ä»–æˆå‘˜ï¼Œåœ¨å·¥ä½œä¸­å°½é‡æ”¯æŒä»–äºº</li>
<li>èƒ½å¤Ÿç†Ÿç»ƒåœ°è¯„ä»·åŒè¡Œçš„å·¥ä½œã€‚è¿™åŒ…æ‹¬è¦æœ‰ç¤¼è²Œï¼Œå‘¨åˆ°ï¼Œå‘¨åˆ°ï¼Œçµæ´»ï¼Œè€Œä¸æ˜¯è¿‚è…</li>
<li>å€¾å¬ä»–äººçš„ä¼˜å…ˆäº‹é¡¹å’Œå…³åˆ‡ï¼Œæ‰¿è®¤ä¸åŒçš„è§‚ç‚¹ã€‚é¢„æµ‹ä»–äººçš„ååº”</li>
<li>ç»éªŒï¼šé€šå¸¸éœ€è¦è‡³å°‘ <em>2 å¹´çš„ä¸“ä¸šç»éªŒ</em>ã€‚</li>
</ul>
<h2 id="é«˜çº§å·¥ç¨‹å¸ˆ"><a href="#é«˜çº§å·¥ç¨‹å¸ˆ" class="headerlink" title="é«˜çº§å·¥ç¨‹å¸ˆ"></a>é«˜çº§å·¥ç¨‹å¸ˆ</h2><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä¸€ä¸ªäººæ­£åœ¨ä½“ç°ä»–ä½œä¸ºä¸ªäººè´¡çŒ®è€…çš„æ•ˆç‡ã€‚</p>
<ul>
<li>å®šä¹‰å¹¶æ‰§è¡Œé’ˆå¯¹ç‰¹å®šåŠŸèƒ½æˆ–å†…éƒ¨ç³»ç»Ÿç»´æŠ¤ / å‡çº§çš„æ‰§è¡Œè®¡åˆ’</li>
<li>ç§¯æå‚ä¸å·¥ç¨‹å·¥ä½œï¼Œå¸®åŠ©ç®€åŒ–æˆ‘ä»¬äº§å“çš„ç»éªŒ</li>
<li>é€šè¿‡ç»“å¯¹ç¼–ç¨‹ã€å›é¡¾å’Œæä¾›æŒ‡å¯¼æ¥å¸®åŠ©æ”¯æŒåŒäº‹çš„å·¥ä½œ</li>
<li>æ ¹æ®éœ€è¦è°ƒæ•´ä¼˜å…ˆé¡ºåº</li>
<li>åŠªåŠ›å‡å°‘ä»»åŠ¡å»¶æœŸï¼ŒåŒæ—¶ä¸é˜Ÿå‹å°±ä»»ä½•æ›´å¤§çš„é‡æ„è¿›è¡Œæ²Ÿé€š</li>
<li>åŠªåŠ›ç†è§£å›¢é˜Ÿæ­£åœ¨å¼€å‘çš„ç‰¹æ€§çš„ç›®çš„ï¼Œå¹¶å¸®åŠ©å‘å›¢é˜Ÿæˆå‘˜ä¼ è¾¾è¿™ä¸€ç›®çš„ã€‚åœ¨æœŸæœ›ä¸æ˜ç¡®çš„æ—¶å€™æå‡ºæ¾„æ¸…é—®é¢˜</li>
<li>å½“ä»»åŠ¡å¾ˆå¤§æ—¶ï¼Œå°†å·¥ä½œèŒƒå›´ç¼©å°åˆ°æ›´å°çš„ã€å¯æ“ä½œçš„éƒ¨åˆ†</li>
<li>å±•ç¤ºå¯¹ä»–äººæƒ³æ³•çš„å¼€æ”¾æ€§ã€‚é€‚åº”ä»–ä»¬çš„æ²Ÿé€šé£æ ¼ï¼Œä»¥æœ€æœ‰æ•ˆçš„æ²Ÿé€šã€‚æœ‰æ•ˆå’Œå‡†ç¡®åœ°åˆ†äº«æƒ³æ³•å’Œåˆä½œåŠªåŠ›çš„æˆæœ</li>
<li>ä»¥é¢„æœŸå·¥ä½œèŒƒå›´æ‰€éœ€çš„è§„æ¨¡å’Œç»´æŠ¤ç±»å‹çš„æ–¹å¼ç¼–å†™ä»£ç ã€‚åœ¨åˆ›å»ºå’Œå®¡æŸ¥æ‹‰å–è¯·æ±‚æ—¶è€ƒè™‘æ˜“è¯»æ€§</li>
<li>ç»éªŒï¼šé€šå¸¸éœ€è¦è‡³å°‘ <em>5 å¹´çš„ä¸“ä¸šç»éªŒ</em>ã€‚</li>
</ul>
<h2 id="staffå·¥ç¨‹å¸ˆ"><a href="#staffå·¥ç¨‹å¸ˆ" class="headerlink" title="staffå·¥ç¨‹å¸ˆ#"></a>staffå·¥ç¨‹å¸ˆ#</h2><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä¸€ä¸ªäººçš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½èŠ±åœ¨æå‡è‡ªå·±çš„æŠ€èƒ½ä»¥å¸®åŠ©ä»–äººä¸Šã€‚</p>
<ul>
<li>ç§¯æå‚ä¸ä¼šè®®ï¼Œå¹¶åœ¨å¿…è¦æ—¶åˆ›å»ºè·¨å›¢é˜Ÿåä½œä»¥å®ç°ä¸šåŠ¡ç›®æ ‡</li>
<li>åˆ›å»ºå’Œç»´æŠ¤å†…éƒ¨æ–‡æ¡£ï¼Œä»¥äº†è§£ä»–ä»¬æ­£åœ¨å·¥ä½œçš„ç³»ç»Ÿçš„ç›®çš„å’Œç»“æ„ã€‚ä»”ç»†è®°å½•ä¸æ¸…æ¥šçš„è¿‡ç¨‹</li>
<li>æ•™å¯¼åŒé¾„äººå¦‚ä½•å»ºç«‹ç³»ç»Ÿå’Œé©±åŠ¨ç‰¹æ€§å’Œç³»ç»Ÿæ”¹è¿›çš„æ‰§è¡Œè®¡åˆ’</li>
<li>åè°ƒæ•´ä¸ªå›¢é˜Ÿçš„å·¥ä½œï¼Œè€Œä¸æ˜¯åœ¨å•æ‰“ç‹¬æ–—ã€‚ç¡®ä¿äººä»¬åœ¨ä¸åŒçš„é¡¹ç›®ä¸­æ„Ÿåˆ°ä»·å€¼æ„Ÿï¼Œå¹¶ä¸”ä»–ä»¬çš„å£°éŸ³è¢«å¬åˆ°</li>
<li>é€šè¿‡å·¥ç¨‹ä¸Šçš„åŠªåŠ›ä½¿å›¢é˜Ÿå¿«é€Ÿå‰è¿›</li>
<li>ç§¯æä¸»åŠ¨åœ°æ²Ÿé€šé—®é¢˜å¹¶åšå¿…è¦çš„å–èˆã€‚æ‹¥æœ‰é—®é¢˜çš„ä¸»å¯¼æƒ.</li>
<li>ç®¡ç†è¾ƒå¤§çš„é‡æ„å’Œ / æˆ–ç³»ç»Ÿå‡çº§,å¯ä»¥å¸®åŠ©å…¶ä»–äººè¿›è¡Œç›¸åŒçš„å·¥ä½œæˆ–å‚ä¸ã€‚èƒ½å¤Ÿä¼°è®¡å·¥ä½œèŒƒå›´ï¼Œå½“è¿™äº›ä¼°è®¡ä¸å‡†ç¡®æ—¶ï¼Œä¸è¯¸å¦‚äº§å“ç®¡ç†ä¹‹ç±»çš„åˆ©ç›Šç›¸å…³è€…åè°ƒï¼Œä»¥è§£å†³é£é™©ï¼Œå¹¶è·å¾—ä¸»å¯¼æƒ</li>
<li>ç»éªŒï¼šé€šå¸¸éœ€è¦è‡³å°‘ <em>8 å¹´çš„ä¸“ä¸šç»éªŒ</em>ã€‚</li>
</ul>
<h2 id="é¦–å¸­å·¥ç¨‹å¸ˆ"><a href="#é¦–å¸­å·¥ç¨‹å¸ˆ" class="headerlink" title="é¦–å¸­å·¥ç¨‹å¸ˆ#"></a>é¦–å¸­å·¥ç¨‹å¸ˆ#</h2><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©åˆ«äººåšåˆ°æœ€å¥½ï¼Œæ”¾å¼ƒè‡ªæˆ‘æˆå°±å¤§æˆ‘?</p>
<ul>
<li>å¼€å‘ç»è¿‡éªŒè¯çš„ç³»ç»Ÿã€‚åœ¨æ•´ä¸ªå›¢é˜Ÿä¸­æ¨å¹¿è¿™äº›ç³»ç»Ÿå’Œæ–¹æ³•ï¼Œä»¥ä¾¿å…¶ä»–äººå¯ä»¥ä»ä¸­å­¦ä¹ å’Œæ”¹è¿›</li>
<li>æ·±åšçš„è¡Œä¸šçŸ¥è¯†å’Œå¯¹æŠ€æœ¯é¢†åŸŸçš„è®¤è¯†ã€‚å°†è¿™ä¸€åˆ†æé€‚å½“åœ°çº³å…¥æˆ˜ç•¥</li>
<li>ä¸ä»…ä»…åªæ˜¯é¢†å¯¼ï¼Œè¦æœ‰æä¾›æŒ‡å¯¼å’Œå‰ç»æ€§åœ°æ„¿æ™¯</li>
<li>æŒ‡å¯¼å’Œç§¯ææ¨åŠ¨æŠ€æœ¯æŠ€èƒ½çš„ç›´æ¥æˆ–æ‰©å±•å›¢é˜Ÿè€ƒè™‘åˆ°ä»–ä»¬çš„èŒä¸šé˜¶æ®µå’Œä¸ªäººè½¨è¿¹</li>
<li>é€šè¿‡å›´ç»•å…±åŒçš„éœ€æ±‚æˆ–å®¢æˆ·åˆ©ç›Šä¸ä»–äººåˆä½œæ¥æ¶ˆé™¤éšœç¢.åˆ›å»ºè·¨ç»„ç»‡è¾¹ç•Œçš„ç­–ç•¥ï¼Œä»¥å®ç°ä¸šåŠ¡ç›®æ ‡æˆ–æ‰©å¤§å½±å“åŠ›</li>
<li>å¯ä»¥é¢„è§é—®é¢˜å’Œå…¶å½±å“ï¼Œä»–ä»¬çš„æƒ³æ³•å°†å¯¹å…¶ä»–äººäº§ç”Ÿå½±å“ï¼Œå¹¶è¿½æ±‚äº’åˆ©çš„æˆ˜ç•¥</li>
<li>é™¤äº†å‚åŠ ä¼šè®®ï¼Œæ·±æ€ç†Ÿè™‘åœ°åˆ›å»ºå’Œç»„ç»‡æœ‰æ•ˆçš„ä¼šè®®</li>
<li>ä¸ºä¸€ç³»åˆ—å·¥ä½œè®¾å®šæ¸…æ™°è€Œå¯Œæœ‰æŒ‘æˆ˜æ€§çš„ç›®æ ‡ï¼Œå¹¶ä»¥çƒ­æƒ…å’Œæ¿€æƒ…è¿½æ±‚å®ƒä»¬ã€‚ç†è§£ä¸šåŠ¡ç›®æ ‡ï¼Œå¹¶å°†å…¶æ•´åˆåˆ°è¿™ä¸ªå·¥ä½œä½“ç³»ä¸­ã€‚ä¸¥æ ¼å®¡æŸ¥å¤šä¸ªè®¡åˆ’ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´</li>
<li>é€šè¿‡æ‰©å±• / æŒ‡å¯¼å›¢é˜Ÿæ¥æ¨åŠ¨å¯è¡¡é‡çš„å¢é•¿ï¼Œç§¯æå½±å“å·¥ç¨‹è·¯çº¿å›¾ï¼Œç®¡ç†å…³é”®æŒ‡æ ‡ï¼Œåˆ›å»ºç ”ç©¶å’Œ / æˆ–é¡¹ç›®</li>
<li>ä¸å…¶ä»–å›¢é˜Ÿåˆä½œï¼Œæé«˜æˆ‘ä»¬å†…éƒ¨å·¥å…·çš„æœ‰æ•ˆæ€§</li>
<li>é¢„æµ‹ä»–ä»¬å‘¨å›´äººçš„éœ€æ±‚ã€‚è¡¨ç°å‡ºå…³å¿ƒä»–çš„é˜Ÿå‹,è®©å…¶æ„Ÿè§‰å¯ä»¥åœ¨å·¥ä½œæ—¶é—´ä¸ä»–ä»¬å–å¾—è”ç³»ã€‚æœ‰ä¸»åŠ¨æ€§åœ°å†™è¿‡ç¨‹æ–‡æ¡£</li>
<li>ç»éªŒï¼šé€šå¸¸éœ€è¦è‡³å°‘ 10 å¹´çš„ä¸“ä¸šç»éªŒã€‚</li>
</ul>
<h2 id="æ°å‡ºå·¥ç¨‹å¸ˆ"><a href="#æ°å‡ºå·¥ç¨‹å¸ˆ" class="headerlink" title="æ°å‡ºå·¥ç¨‹å¸ˆ#"></a>æ°å‡ºå·¥ç¨‹å¸ˆ#</h2><ul>
<li>é€šè¿‡å·¥ç¨‹ä»»åŠ¡ã€å¼€æ”¾æºç å·¥ä½œæˆ–è€…ä¸ºäº§å“ç‰¹æ€§æä¾›æ”¯æŒï¼Œç¡®å®šæ•´ä¸ªè¡Œä¸šèŒƒå›´å†…ç¼ºå¤±çš„åŠŸèƒ½ï¼Œå®ç°é‚£äº›å¯ä»¥å¤§è§„æ¨¡é‡Šæ”¾å®¢æˆ·å¢é•¿çš„æ½œåŠ›çš„åŠŸèƒ½ .</li>
<li>äº†è§£ä»–ä»¬çš„æ´»åŠ¨å¯¹å…¬å¸ OKRs çš„å½±å“ï¼Œå¹¶ä¸”ä¸»åŠ¨åœ° æ ¹æ®æˆ˜ç•¥ç²¾ç¡®åœ°é€‰æ‹©éœ€è¦åšä»€ä¹ˆ.</li>
<li>åœ¨å†…éƒ¨å’Œå¤–éƒ¨ç§¯æç»™äºˆå¸®åŠ©ï¼Œç¡®ä¿ä»–ä»¬çš„å·¥ä½œè¢«çœ‹åˆ°ã€‚æ‰©å±•ä»–ä»¬çš„ç¤¾ä¼šèµ„æœ¬æ¥å¸®åŠ©å…¶ä»–äºº</li>
<li>åœ¨åˆä½œæ—¶ï¼Œå°¤å…¶æ˜¯åœ¨æ£˜æ‰‹çš„æƒ…å†µä¸‹ï¼Œè¦ä»”ç»†è€ƒè™‘æ²Ÿé€šçš„æ–¹å¼</li>
<li>è‡´åŠ›äºç³»ç»Ÿæ¶æ„ï¼Œæ€è€ƒé—®é¢˜ï¼Œé¢„æµ‹æœªæ¥çš„ä½¿ç”¨æƒ…å†µã€‚æ„å»ºå¯æ‰©å±•åˆ°é€‚å½“æ•°é‡çš„ç³»ç»Ÿ</li>
<li>å½“å‡ºç°é—®é¢˜æ—¶ï¼Œæœ‰æ•ˆæ²Ÿé€šï¼Œç†è§£ä»»ä½•æè®®çš„å˜æ›´çš„é£é™©å’Œå½±å“ã€‚å½“åˆ«äººåœ¨å…¶ä»–ä¼˜å…ˆäº‹é¡¹ä¹‹å¤–åšå‡ºæƒè¡¡æ—¶ï¼Œè¦å–„äºå€¾å¬</li>
<li>ç»éªŒï¼šé€šå¸¸éœ€è¦è‡³å°‘ <em>12 å¹´çš„ä¸“ä¸šç»éªŒ</em>ã€‚</li>
</ul>
<h2 id="æŠ€æœ¯ä¸»ç®¡-è¿˜æ²¡è¾¾åˆ°-ä¸ªäººæ„Ÿè§‰"><a href="#æŠ€æœ¯ä¸»ç®¡-è¿˜æ²¡è¾¾åˆ°-ä¸ªäººæ„Ÿè§‰" class="headerlink" title="æŠ€æœ¯ä¸»ç®¡(è¿˜æ²¡è¾¾åˆ°,ä¸ªäººæ„Ÿè§‰)#"></a>æŠ€æœ¯ä¸»ç®¡(è¿˜æ²¡è¾¾åˆ°,ä¸ªäººæ„Ÿè§‰)#</h2><p>æŠ€æœ¯ä¸»ç®¡è´Ÿè´£é¢†å¯¼ä¸€ä¸ªç‰¹å®šçš„é¡¹ç›®ï¼Œå¹¶å¯¹å…¶æŠ€æœ¯æˆæœçš„è´¨é‡è´Ÿè´£ã€‚</p>
<p>ä»»ä½•äººéƒ½å¯ä»¥åœ¨ä»–ä»¬èŒä¸šç”Ÿæ¶¯çš„ä»»ä½•é˜¶æ®µæˆä¸ºæŠ€æœ¯ä¸»ç®¡ã€‚</p>
<ul>
<li>åŒ…æ‹¬å¤§é‡çš„é¡¹ç›®ç®¡ç† â€”â€” ä¿è¯é¡¹ç›®å‡†æ—¶è¿è¡Œï¼Œä¿è¯äººä»¬å·¥ä½œç•…é€šæ— é˜»ï¼Œå½“äººä»¬é™·å…¥å›°å¢ƒæ—¶å‘ç®¡ç†å±‚æå‡ºå»ºè®®</li>
<li>æœ‰æ—¶å¯èƒ½æ¶‰åŠåˆ°æŒ‡å¯¼å‘˜å·¥å’Œç»“å¯¹ç¼–ç¨‹</li>
<li>ä»ç„¶æ¶‰åŠé¡¹ç›®çš„ç¼–ç  / å‚ä¸å’Œ IC å·¥ä½œã€‚è¿™ä¹Ÿå¯èƒ½æ„å‘³ç€è¦å¡«è¡¥é¡¹ç›®çš„ç©ºç™½</li>
<li>å¸®åŠ©ç»„ç»‡å’Œä¿ƒè¿›ä¸åˆ©ç›Šç›¸å…³è€…çš„å¯Œæœ‰æˆæ•ˆçš„æ­£å‘æ²Ÿé€šçš„ä¼šè®®</li>
<li>åˆ›å»ºä¸æ€»ä½“é¡¹ç›®ç›®æ ‡ä»¥åŠæ‰§è¡Œæ–¹å¼çš„ä¸€è‡´æ€§ã€‚ä»¥å¯Œæœ‰æˆæ•ˆçš„æ–¹å¼å¼•å‘å†²çªã€‚æ­¤å¤–ï¼Œä¸€æ—¦è®¾å®šäº†äº§å“æ„¿æ™¯ï¼Œå°±è¦å…¨åŠ›å®ç°å®ƒ.</li>
<li>æŠ€æœ¯é¢†å¯¼æ¸©å’Œåœ°æ‰§è¡Œæ ‡å‡† â€”â€” åŒ…æ‹¬æ–‡åŒ–å’Œæ€åº¦ã€‚å¦‚æœå›¢é˜Ÿä¸åè°ƒï¼ŒæŠ€æœ¯é¢†å¯¼ä¼šèŠ±æ—¶é—´å’Œå·¥ç¨‹ç»ç†ä¸€èµ·å¼•å¯¼ä»–ä»¬æé«˜ç”Ÿäº§åŠ›</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.jingzhengyi.top/2021/04/11/esmodule/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸ªäººä»£ç çŸ¥è¯†è®°å½•">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/11/esmodule/" class="post-title-link" itemprop="url">esmodule åœ¨æµè§ˆå™¨å’Œnodeç«¯ä½¿ç”¨</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-11 10:47:00" itemprop="dateCreated datePublished" datetime="2021-04-11T10:47:00+08:00">2021-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-18 23:03:18" itemprop="dateModified" datetime="2021-04-18T23:03:18+08:00">2021-04-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/esmodule/" itemprop="url" rel="index"><span itemprop="name">esmodule</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>esmodule åœ¨æˆ‘ 2016 å¹´åˆšå¼€å§‹å­¦ react æ—¶å€™å°±å¼€å§‹ç”¨äº†,è™½ç„¶ç”¨çš„ç†æ‰€å½“ç„¶,ä½†æ˜¯å…¶å®åœ¨ js å‘å±•çš„å†å²ä¸­,æ—©æœŸå¥½å¤šé¡¹ç›®å…¶å®æ˜¯ä¸æ”¯æŒçš„,åŒ…æ‹¬æµè§ˆå™¨, è¿™ä¸ªæ·˜æ±°è¿‡ç¨‹éœ€è¦å¾ˆé•¿çš„æ—¶é—´.æœ€è¿‘æ„Ÿè§‰åœ¨ ie é€æ­¥å†å²èˆå°çš„æ—¶æœŸ,å»äº†è§£ä¸€ä¸‹ node æµè§ˆå™¨é‡Œå¦‚ä½•ç›´æ¥ç”¨ esmodule è¿˜æ˜¯å¾ˆéœ€è¦çš„.<br>ç¿»äº†ä¸€äº›èµ„æ–™,æ€»ç»“ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨.</p>
</blockquote>
<h2 id="NODE-é‡Œç”¨-ESModules"><a href="#NODE-é‡Œç”¨-ESModules" class="headerlink" title="NODE é‡Œç”¨ ESModules"></a>NODE é‡Œç”¨ ESModules</h2><p>ä¸»æµçš„ node js ç°åœ¨éƒ½æ”¯æŒ ESmodules</p>
<p>åˆ° 2021 å¹´ 4 æœˆ 20 å·, Node v10 ç‰ˆæœ¬å°†åœæ­¢ç»´æŠ¤ (æ›´å¤šå‚è€ƒ <a href="https://nodejs.org/en/about/releases/" target="_blank" rel="noopener">Node Releases</a> ).è¿™å¾ˆä»¤äººæŒ¯å¥‹å› ä¸ºè¿™æ„å‘³ç€æ¯ä¸ªåœ¨ç»´æŠ¤çš„ node ç‰ˆæœ¬éƒ½å®˜æ–¹æ”¯æŒ EcmaScript Modules! å¯èƒ½æœ‰äº›äººè¿˜æ˜¯æŒºå–œæ¬¢ä»¥å‰çš„ CommonJS ä½†æ˜¯ EcmaScript Modules æ˜¯å¤§åŠ¿æ‰€è¶‹.</p>
<p>First, we need the JavaScript we want to run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; get-files.js</span><br><span class="line"></span><br><span class="line">	import path from &#39;path&#39;</span><br><span class="line"></span><br><span class="line">	import fs from &#39;fs&#x2F;promises&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	const isDir \&#x3D; async d \&#x3D;&gt; (await fs.lstat(d)).isDirectory()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	async function getFiles(dir) &#123;</span><br><span class="line"></span><br><span class="line">	const list \&#x3D; await fs.readdir(dir)</span><br><span class="line"></span><br><span class="line">	const filePromises \&#x3D; list.map(async filename \&#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">	const filepath \&#x3D; path.join(dir, filename)</span><br><span class="line"></span><br><span class="line">	if (await isDir(filepath)) &#123;</span><br><span class="line"></span><br><span class="line">	return &#123;type: &#39;dir&#39;, filepath&#125;</span><br><span class="line"></span><br><span class="line">	&#125; else &#123;</span><br><span class="line"></span><br><span class="line">	const content \&#x3D; String(await fs.readFile(filepath))</span><br><span class="line"></span><br><span class="line">	return &#123;type: &#39;file&#39;, filepath, content&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	return Promise.all(filePromises)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	export &#123;getFiles&#125;</span><br><span class="line"></span><br><span class="line">	Next, let&#39;s make a JavaScript file that imports this and runs it:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; index.js</span><br><span class="line"></span><br><span class="line">	import &#123;getFiles&#125; from &#39;.&#x2F;get-files.js&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	console.log(await getFiles(&#39;.&#39;))</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">node .</span><br><span class="line"></span><br><span class="line">(node:5369) Warning: To load an ES module, set &quot;type&quot;: &quot;module&quot; in the package.json or use the .mjs extension.</span><br><span class="line"></span><br><span class="line">(Use \&#96;node --trace-warnings ...\&#96; to show where the warning was created)</span><br><span class="line"></span><br><span class="line">&#x2F;Users&#x2F;kentcdodds&#x2F;Desktop&#x2F;super-simple-start-to-esm-in-node&#x2F;index.js:1</span><br><span class="line"></span><br><span class="line">import &#123;getFiles&#125; from &#39;.&#x2F;get-files.js&#39;</span><br><span class="line"></span><br><span class="line">^^^^^^</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SyntaxError: Cannot use import statement outside a module</span><br><span class="line"></span><br><span class="line"> at wrapSafe (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:979:16)</span><br><span class="line"></span><br><span class="line"> at Module.\_compile (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:1027:27)</span><br><span class="line"></span><br><span class="line"> at Object.Module.\_extensions..js (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:1092:10)</span><br><span class="line"></span><br><span class="line"> at Module.load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:928:32)</span><br><span class="line"></span><br><span class="line"> at Function.Module.\_load (internal&#x2F;modules&#x2F;cjs&#x2F;loader.js:769:14)</span><br><span class="line"></span><br><span class="line"> at Function.executeUserEntryPoint \[as runMain\] (internal&#x2F;modules&#x2F;run\_main.js:72:12)</span><br><span class="line"></span><br><span class="line"> at internal&#x2F;main&#x2F;run\_main\_module.js:17:47</span><br></pre></td></tr></table></figure>

<p>nodejs è¿è¡Œ esmodule ä¸æ˜¯é»˜è®¤é¡¹. ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©:</p>
<ul>
<li>æŠŠ <code>.js</code> æ”¹æˆ to <code>.mjs</code></li>
<li>ä¿®æ”¹<code>package.json</code>,æ·»åŠ  <code>&quot;type&quot;: &quot;module&quot;</code>.</li>
</ul>
<p>ä»¥ä¸‹æ˜¯ä¿®æ”¹ package.json å å†æ¬¡è¿è¡Œ :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">node .</span><br><span class="line"></span><br><span class="line">\[</span><br><span class="line"></span><br><span class="line"> &#123;</span><br><span class="line"></span><br><span class="line"> type: &#39;file&#39;,</span><br><span class="line"></span><br><span class="line"> filepath: &#39;get-files.js&#39;,</span><br><span class="line"></span><br><span class="line"> content: &quot;import path from &#39;path&#39;\\n&quot; +</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; clipped for brevity</span><br><span class="line"></span><br><span class="line"> &#39;export &#123;getFiles&#125;\\n&#39;</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line"> &#123;</span><br><span class="line"></span><br><span class="line"> type: &#39;file&#39;,</span><br><span class="line"></span><br><span class="line"> filepath: &#39;index.js&#39;,</span><br><span class="line"></span><br><span class="line"> content: &quot;import &#123;getFiles&#125; from &#39;.&#x2F;get-files.js&#39;\\n&quot; +</span><br><span class="line"></span><br><span class="line"> &#39;\\n&#39; +</span><br><span class="line"></span><br><span class="line"> &quot;console.log(await getFiles(&#39;.&#39;))\\n&quot;</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line"> &#123;</span><br><span class="line"></span><br><span class="line"> type: &#39;file&#39;,</span><br><span class="line"></span><br><span class="line"> filepath: &#39;package.json&#39;,</span><br><span class="line"></span><br><span class="line"> content: &#39;&#123;\\n  &quot;type&quot;: &quot;module&quot;\\n&#125;\\n&#39;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">\]</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ:</p>
<ul>
<li><a href="https://nodejs.medium.com/announcing-core-node-js-support-for-ecmascript-modules-c5d6dc29b663" target="_blank" rel="noopener">the official initial announcement of ESM support</a>.</li>
<li><a href="https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-node-js/" target="_blank" rel="noopener">esm by Kent C</a></li>
</ul>
<h2 id="åœ¨æµè§ˆå™¨é‡Œç”¨-ESModules"><a href="#åœ¨æµè§ˆå™¨é‡Œç”¨-ESModules" class="headerlink" title="åœ¨æµè§ˆå™¨é‡Œç”¨ ESModules"></a>åœ¨æµè§ˆå™¨é‡Œç”¨ ESModules</h2><p>_æ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨ç°åœ¨éƒ½æ”¯æŒ ESModuels!!!!,demo å¦‚ä¸‹:</p>
<ul>
<li>å…ˆå†™ä¸€ä¸ªæƒ³è¦è¿è¡Œçš„ js module:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; append-div.js</span><br><span class="line"></span><br><span class="line">function appendDiv(message) &#123;</span><br><span class="line"></span><br><span class="line"> const div \&#x3D; document.createElement(&#39;div&#39;)</span><br><span class="line"></span><br><span class="line"> div.textContent \&#x3D; message</span><br><span class="line"></span><br><span class="line"> document.body.appendChild(div)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export &#123;appendDiv&#125;</span><br><span class="line"></span><br><span class="line">Next, let&#39;s make an HTML file to load that file:</span><br><span class="line"></span><br><span class="line">&lt;!-- index.html --&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type\&#x3D;&quot;module&quot;\&gt;</span><br><span class="line"></span><br><span class="line"> import &#123;appendDiv&#125; from &#39;.&#x2F;append-div.js&#39;</span><br><span class="line"></span><br><span class="line"> appendDiv(&#39;Hello from inline script&#39;)</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script\&gt;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ <code>type=&quot;module&quot;</code> å±æ€§. è¿™æ˜¯æ‰€æœ‰æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ ,ç”¨â€moduleâ€ ä»£æ›¿ â€œscriptâ€, ä½ å¯ä»¥å‚è€ƒ<a href="https://usefulangle.com/post/256/script-type-module-vs-script-javascript" target="_blank" rel="noopener">several differences</a> çœ‹çœ‹æµè§ˆå™¨è¿è¡Œæ¨¡å—åŒ– js çš„åŸç†.</p>
<p>æˆ‘ä»¬éœ€è¦ å¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡å™¨æ¥æµ‹è¯• ,æ¨èç”¨<code>npx server .</code> è¿™ä¸ª npm åŒ… æ¥åšè¿™ä¸ªäº‹æƒ…, é»˜è®¤å¯åŠ¨çš„æ˜¯ <a href="http://localhost:5000/" target="_blank" rel="noopener">localhost:5000</a> è¿™ä¸ªåœ°å€. ğŸ‰</p>
<p>ä»å¦ä¸€ä¸ª js æ–‡ä»¶æ¥å¼•ç”¨ module js æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; script-src.js</span><br><span class="line"></span><br><span class="line">import &#123;appendDiv&#125; from &#39;.&#x2F;append-div.js&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">appendDiv(&#39;Hello from external script&#39;)</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ html æ–‡ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- index.html --&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type\&#x3D;&quot;module&quot;\&gt;</span><br><span class="line"></span><br><span class="line"> import &#123;appendDiv&#125; from &#39;.&#x2F;append-div.js&#39;</span><br><span class="line"></span><br><span class="line"> appendDiv(&#39;Hello from inline script&#39;)</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script\&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type\&#x3D;&quot;module&quot; src\&#x3D;&quot;.&#x2F;script-src.js&quot;\&gt;&lt;&#x2F;script\&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¸€ä¸ªçŸ¥è¯†ç‚¹,<strong>åŠ¨æ€å¼•ç”¨</strong>module js æ–‡ä»¶::</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; async-script.js</span><br><span class="line"></span><br><span class="line">import &#123;appendDiv&#125; from &#39;.&#x2F;append-div.js&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function go() &#123;</span><br><span class="line"></span><br><span class="line"> appendDiv(&#39;Hello from async script&#39;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export &#123;go&#125;</span><br><span class="line"></span><br><span class="line">Then we can load that using a dynamic import statement:</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; script-src.js</span><br><span class="line"></span><br><span class="line">import &#123;appendDiv&#125; from &#39;.&#x2F;append-div.js&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">appendDiv(&#39;Hello from external script&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import(&#39;.&#x2F;async-script.js&#39;).then(</span><br><span class="line"></span><br><span class="line"> moduleExports \&#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line"> moduleExports.go()</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line"> error \&#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line"> console.error(&#39;there was an error loading the script&#39;)</span><br><span class="line"></span><br><span class="line"> throw error</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ä½ ç”šè‡³å¯ä»¥è¿™æ ·æ¥å¼•ç”¨è¿™ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#96;import \* as d3 from &#39;https:&#x2F;&#x2F;unpkg.com&#x2F;d3?module&#39;&#96;</span><br></pre></td></tr></table></figure>

<p>The point is, the thing you put in the quotes in your import statements has to point to a JavaScript resource on some server somewhere. <a href="https://unpkg.com/" target="_blank" rel="noopener">Learn more about unpkg.com</a>.</p>
<h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ul>
<li><strong><a href="https://egghead.io/lessons/egghead-use-javascript-modules-in-the-browser?pl=kent-s-blog-posts-as-screencasts-eefa540c&af=5236ad" target="_blank" rel="noopener">Watch â€œUse JavaScript Modules in the browserâ€ on egghead.io</a></strong></li>
<li><a href="https://gist.github.com/kentcdodds/48c069462a9ab4223eb93b5e19acee31" target="_blank" rel="noopener">the code for this</a></li>
<li><a href="https://v8.dev/features/modules" target="_blank" rel="noopener">v8.dev/features/modules</a></li>
<li><a href="https://www.sitepoint.com/using-es-modules/" target="_blank" rel="noopener">Using ES Modules in the Browser Today</a> by <a href="https://twitter.com/markbrown4" target="_blank" rel="noopener">Mark Brown</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jing</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">42</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jingkeke" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;jingkeke" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhengyi.jing@163.com" title="E-Mail â†’ mailto:zhengyi.jing@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/jingzhengyi" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;jingzhengyi" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="http://beian.miit.gov.cn/" rel="noopener" target="_blank">é²ICPå¤‡20007351å·-2 </a><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=20007351" rel="noopener" target="_blank">20007351 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-jzy"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jing</span>
</div>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://blog.jingzhengyi.top/',]
      });
      });
  </script>


</body>
</html>
